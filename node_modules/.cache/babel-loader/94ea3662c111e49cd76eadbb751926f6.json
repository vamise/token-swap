{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/mikovainio/FyFy/token-swap/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"/Users/mikovainio/FyFy/token-swap/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Percentage = void 0;\n\nvar spl_token_1 = require(\"@solana/spl-token\");\n\nvar decimal_js_1 = __importDefault(require(\"decimal.js\"));\n\nvar __1 = require(\"..\");\n\nvar Percentage = /*#__PURE__*/function () {\n  function Percentage(numerator, denominator) {\n    var _this = this;\n\n    _classCallCheck(this, Percentage);\n\n    this.toString = function () {\n      return \"\".concat(_this.numerator.toString(), \"/\").concat(_this.denominator.toString());\n    };\n\n    this.numerator = numerator;\n    this.denominator = denominator;\n  }\n\n  _createClass(Percentage, [{\n    key: \"toDecimal\",\n    value: function toDecimal() {\n      if (this.denominator.eq(__1.ZERO)) {\n        return new decimal_js_1.default(0);\n      }\n\n      return new decimal_js_1.default(this.numerator.toString()).div(new decimal_js_1.default(this.denominator.toString()));\n    }\n  }, {\n    key: \"add\",\n    value: function add(p2) {\n      var denomGcd = this.denominator.gcd(p2.denominator);\n      var denomLcm = this.denominator.div(denomGcd).mul(p2.denominator);\n      var p1DenomAdjustment = denomLcm.div(this.denominator);\n      var p2DenomAdjustment = denomLcm.div(p2.denominator);\n      var p1NumeratorAdjusted = this.numerator.mul(p1DenomAdjustment);\n      var p2NumeratorAdjusted = p2.numerator.mul(p2DenomAdjustment);\n      var newNumerator = p1NumeratorAdjusted.add(p2NumeratorAdjusted);\n      return new Percentage(new spl_token_1.u64(newNumerator.toString()), new spl_token_1.u64(denomLcm.toString()));\n    }\n  }], [{\n    key: \"fromDecimal\",\n    value: function fromDecimal(number) {\n      return Percentage.fromFraction(number.toDecimalPlaces(1).mul(10).toNumber(), 1000);\n    }\n  }, {\n    key: \"fromFraction\",\n    value: function fromFraction(numerator, denominator) {\n      var num = typeof numerator === \"number\" ? new spl_token_1.u64(numerator.toString()) : numerator;\n      var denom = typeof denominator === \"number\" ? new spl_token_1.u64(denominator.toString()) : denominator;\n      return new Percentage(num, denom);\n    }\n  }]);\n\n  return Percentage;\n}();\n\nexports.Percentage = Percentage;","map":{"version":3,"sources":["/Users/mikovainio/FyFy/token-swap/node_modules/@orca-so/sdk/dist/public/utils/models/percentage.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","Percentage","spl_token_1","require","decimal_js_1","__1","numerator","denominator","toString","eq","ZERO","default","div","p2","denomGcd","gcd","denomLcm","mul","p1DenomAdjustment","p2DenomAdjustment","p1NumeratorAdjusted","p2NumeratorAdjusted","newNumerator","add","u64","number","fromFraction","toDecimalPlaces","toNumber","num","denom"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Percentage = void 0;\nconst spl_token_1 = require(\"@solana/spl-token\");\nconst decimal_js_1 = __importDefault(require(\"decimal.js\"));\nconst __1 = require(\"..\");\nclass Percentage {\n    constructor(numerator, denominator) {\n        this.toString = () => {\n            return `${this.numerator.toString()}/${this.denominator.toString()}`;\n        };\n        this.numerator = numerator;\n        this.denominator = denominator;\n    }\n    static fromDecimal(number) {\n        return Percentage.fromFraction(number.toDecimalPlaces(1).mul(10).toNumber(), 1000);\n    }\n    static fromFraction(numerator, denominator) {\n        const num = typeof numerator === \"number\" ? new spl_token_1.u64(numerator.toString()) : numerator;\n        const denom = typeof denominator === \"number\" ? new spl_token_1.u64(denominator.toString()) : denominator;\n        return new Percentage(num, denom);\n    }\n    toDecimal() {\n        if (this.denominator.eq(__1.ZERO)) {\n            return new decimal_js_1.default(0);\n        }\n        return new decimal_js_1.default(this.numerator.toString()).div(new decimal_js_1.default(this.denominator.toString()));\n    }\n    add(p2) {\n        const denomGcd = this.denominator.gcd(p2.denominator);\n        const denomLcm = this.denominator.div(denomGcd).mul(p2.denominator);\n        const p1DenomAdjustment = denomLcm.div(this.denominator);\n        const p2DenomAdjustment = denomLcm.div(p2.denominator);\n        const p1NumeratorAdjusted = this.numerator.mul(p1DenomAdjustment);\n        const p2NumeratorAdjusted = p2.numerator.mul(p2DenomAdjustment);\n        const newNumerator = p1NumeratorAdjusted.add(p2NumeratorAdjusted);\n        return new Percentage(new spl_token_1.u64(newNumerator.toString()), new spl_token_1.u64(denomLcm.toString()));\n    }\n}\nexports.Percentage = Percentage;\n"]},"metadata":{},"sourceType":"script"}