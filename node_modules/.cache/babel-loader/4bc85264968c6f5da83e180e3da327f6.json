{"ast":null,"code":"import _toConsumableArray from\"/Users/mikovainio/FyFy/token-swap/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/mikovainio/FyFy/token-swap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mikovainio/FyFy/token-swap/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/Users/mikovainio/FyFy/token-swap/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/Users/mikovainio/FyFy/token-swap/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"children\",\"onClose\"];import _regeneratorRuntime from\"/Users/mikovainio/FyFy/token-swap/node_modules/@babel/runtime/regenerator/index.js\";import React,{useCallback}from'react';import{useConnection,useWallet}from'@solana/wallet-adapter-react';import{Transaction}from'@solana/web3.js';import{getOrca,OrcaPoolConfig}from\"@orca-so/sdk\";import Decimal from\"decimal.js\";import*as web3 from'@solana/web3.js';import{styled}from'@mui/material/styles';import{Dialog,Button,ButtonGroup,DialogTitle,DialogContent,DialogActions,TextField,FormControl,Grid,InputLabel,Tooltip,Typography,MenuItem}from'@mui/material';import Select from'@mui/material/Select';//import { MakeLinkableAddress, ValidateAddress } from '../../components/Tools/WalletAddress'; // global key handling\nimport{useSnackbar}from'notistack';import HelpOutlineIcon from'@mui/icons-material/HelpOutline';import IconButton from'@mui/material/IconButton';import CloseIcon from'@mui/icons-material/Close';import SwapHorizIcon from'@mui/icons-material/SwapHoriz';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function trimAddress(addr){if(!addr)return addr;var start=addr.substring(0,8);var end=addr.substring(addr.length-4);return\"\".concat(start,\"...\").concat(end);}var BootstrapDialog=styled(Dialog)(function(_ref){var theme=_ref.theme;return{'& .MuDialogContent-root':{padding:theme.spacing(2)},'& .MuDialogActions-root':{padding:theme.spacing(1)}};});var BootstrapDialogTitle=function BootstrapDialogTitle(props){var children=props.children,onClose=props.onClose,other=_objectWithoutProperties(props,_excluded);return/*#__PURE__*/_jsxs(DialogTitle,_objectSpread(_objectSpread({sx:{m:0,p:2}},other),{},{children:[children,onClose?/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"close\",onClick:onClose,sx:{position:'absolute',right:8,top:8,color:function color(theme){return theme.palette.grey[500];}},children:/*#__PURE__*/_jsx(CloseIcon,{})}):null]}));};export default function OrcaSwap(props){var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),tokenSwapAvailableBalance=_React$useState2[0],setPortfolioSwapTokenAvailableBalance=_React$useState2[1];var _React$useState3=React.useState(props.portfolioPositions),_React$useState4=_slicedToArray(_React$useState3,2),portfolioPositions=_React$useState4[0],setPortofolioPositions=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),open=_React$useState6[0],setOpen=_React$useState6[1];var _React$useState7=React.useState(0),_React$useState8=_slicedToArray(_React$useState7,2),amounttoswap=_React$useState8[0],setTokensToSwap=_React$useState8[1];var _React$useState9=React.useState(0),_React$useState10=_slicedToArray(_React$useState9,2),userTokenBalanceInput=_React$useState10[0],setTokenBalanceInput=_React$useState10[1];var _React$useState11=React.useState(0),_React$useState12=_slicedToArray(_React$useState11,2),convertedAmountValue=_React$useState12[0],setConvertedAmountValue=_React$useState12[1];var _React$useState13=React.useState(null),_React$useState14=_slicedToArray(_React$useState13,2),tokena=_React$useState14[0],setTokenA=_React$useState14[1];var _React$useState15=React.useState(null),_React$useState16=_slicedToArray(_React$useState15,2),tokenb=_React$useState16[0],setTokenB=_React$useState16[1];var _React$useState17=React.useState(null),_React$useState18=_slicedToArray(_React$useState17,2),lpFees=_React$useState18[0],setLPFees=_React$useState18[1];var _React$useState19=React.useState(null),_React$useState20=_slicedToArray(_React$useState19,2),networkFees=_React$useState20[0],setNetworkFees=_React$useState20[1];var _React$useState21=React.useState(null),_React$useState22=_slicedToArray(_React$useState21,2),minimumOutputAmount=_React$useState22[0],setMinimumOutputAmount=_React$useState22[1];var _React$useState23=React.useState(null),_React$useState24=_slicedToArray(_React$useState23,2),priceImpact=_React$useState24[0],setPriceImpact=_React$useState24[1];var _React$useState25=React.useState(null),_React$useState26=_slicedToArray(_React$useState25,2),rate=_React$useState26[0],setRate=_React$useState26[1];var _React$useState27=React.useState(props.swapfrom),_React$useState28=_slicedToArray(_React$useState27,2),swapfrom=_React$useState28[0],setSwapFrom=_React$useState28[1];var _React$useState29=React.useState(props.swapto),_React$useState30=_slicedToArray(_React$useState29,2),swapto=_React$useState30[0],setSwapTo=_React$useState30[1];var usdc_mint='EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v';var sol_mint='So11111111111111111111111111111111111111112';var fyfy_mint='vkG3Qrz6vCWjzDt5yCLEKYMYZ8hFZ27dmKe92btaZE3';var orca_mint='orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE';var _React$useState31=React.useState(false),_React$useState32=_slicedToArray(_React$useState31,2),loading=_React$useState32[0],setLoading=_React$useState32[1];//const mint = props.mint;\n//const logoURI = props.logoURI;\n//const name = props.name;\n//const balance = props.balance;\n///const conversionrate = props.conversionrate;\nvar _useConnection=useConnection(),connection=_useConnection.connection;var orca=getOrca(connection);var _useWallet=useWallet(),publicKey=_useWallet.publicKey,wallet=_useWallet.wallet,sendTransaction=_useWallet.sendTransaction;var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var onError=useCallback(function(error){enqueueSnackbar(error.message?\"\".concat(error.name,\": \").concat(error.message):error.name,{variant:'error'});console.error(error);},[enqueueSnackbar]);var handleClickOpen=function handleClickOpen(){setTokenBalanceInput(0);setTokensToSwap(0);setOpen(true);};var handleClose=function handleClose(){setOpen(false);};function getPortfolioTokenBalance(swapingfrom){var withmint='';if(swapingfrom==='USDC'){withmint=usdc_mint;}else if(swapingfrom==='SOL'){withmint=sol_mint;}else if(swapingfrom==='ORCA'){withmint=orca_mint;}var balance=0;portfolioPositions.portfolio.map(function(token){if(token.mint===withmint){if(token.balance>0)balance=token.balance;}});setPortfolioSwapTokenAvailableBalance(balance);}var handleSelectChange=function handleSelectChange(event){setSwapFrom(event.target.value);getPortfolioTokenBalance(event.target.value);setTokenBalanceInput(0);setTokensToSwap(0);setConvertedAmountValue(0);setLPFees(null);setNetworkFees(null);setMinimumOutputAmount(null);setPriceImpact(null);setRate(null);};function swapTokens(_x,_x2,_x3){return _swapTokens.apply(this,arguments);}function _swapTokens(){_swapTokens=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(tokenPoolA,tokenPoolB,amountToSwap){var transaction,tokenPairA,tokenAmount,quote,convertedAmount,swapPayload,signedTransaction,_tokenPairA,_tokenAmount,_quote,_convertedAmount,_swapPayload,tokenPairB,tokenAmountB,quoteB,convertedAmountB,swapPayloadB,_signedTransaction;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;/*** Swap ***/ //const orcaSolPool = orca.getPool(OrcaPoolConfig.ORCA_SOL); // Default\n//const tokenPool = orca.getPool(OrcaPoolConfig.FYFY_USDC);\ntransaction=new Transaction();if(tokenPoolB){_context.next=22;break;}tokenPairA=tokenPoolA.getTokenB();// USDC\ntokenAmount=new Decimal(amountToSwap);// amount in USDC\n_context.next=7;return tokenPoolA.getQuote(tokenPairA,tokenAmount);case 7:quote=_context.sent;convertedAmount=quote.getMinOutputAmount();_context.next=11;return tokenPoolA.swap(publicKey,tokenPairA,tokenAmount,convertedAmount);case 11:swapPayload=_context.sent;enqueueSnackbar(\"Preparing to swap \".concat(tokenAmount.toString(),\" \").concat(tokenPoolA.getTokenB().name,\" for at least \").concat(convertedAmount.toNumber(),\" \").concat(tokenPoolA.getTokenA().name),{variant:'info'});//swapPayload.transaction.partialSign(...swapPayload.signers);\n_context.next=15;return sendTransaction(swapPayload.transaction,connection,{signers:swapPayload.signers});case 15:signedTransaction=_context.sent;enqueueSnackbar(\"Transaction ready\",{variant:'info'});_context.next=19;return connection.confirmTransaction(signedTransaction,'processed');case 19:enqueueSnackbar(\"Swapped: \".concat(signedTransaction),{variant:'success'});_context.next=49;break;case 22:_tokenPairA=tokenPoolA.getTokenA();// SOL_USDC\n_tokenAmount=new Decimal(amountToSwap);_context.next=26;return tokenPoolA.getQuote(_tokenPairA,_tokenAmount);case 26:_quote=_context.sent;_convertedAmount=_quote.getMinOutputAmount();_context.next=30;return tokenPoolA.swap(publicKey,_tokenPairA,_tokenAmount,_convertedAmount);case 30:_swapPayload=_context.sent;//enqueueSnackbar(`Step 1. Preparing to swap ${tokenAmount.toString()} ${tokenPoolA.getTokenA().name} for at least ${convertedAmount.toNumber()} ${tokenPoolA.getTokenB().name}`,{ variant: 'info' });\ntokenPairB=tokenPoolB.getTokenB();// FYFY_USDC\ntokenAmountB=new Decimal(_convertedAmount.toNumber());_context.next=35;return tokenPoolB.getQuote(tokenPairB,tokenAmountB);case 35:quoteB=_context.sent;// consider adding slippage amount\nconvertedAmountB=quoteB.getMinOutputAmount();//enqueueSnackbar(`Step 2. Preparing to swap ${tokenAmountB.toString()} ${tokenPoolB.getTokenB().name} for at least ${convertedAmountB.toNumber()} ${tokenPoolB.getTokenA().name}`,{ variant: 'info' });\n_context.next=39;return tokenPoolB.swap(publicKey,tokenPairB,tokenAmountB,convertedAmountB);case 39:swapPayloadB=_context.sent;enqueueSnackbar(\"Preparing to swap \".concat(_tokenAmount.toString(),\" \").concat(tokenPoolA.getTokenA().name,\" for at least \").concat(convertedAmountB.toNumber(),\" \").concat(tokenPoolB.getTokenA().name),{variant:'info'});transaction=_swapPayload.transaction.add(swapPayloadB.transaction);//transaction.partialSign(...swapPayload.signers);\n//transaction.partialSign(...swapPayloadB.signers);\n_context.next=44;return sendTransaction(transaction,connection,{signers:[].concat(_toConsumableArray(_swapPayload.signers),_toConsumableArray(swapPayloadB.signers))});case 44:_signedTransaction=_context.sent;enqueueSnackbar(\"Transaction ready\",{variant:'info'});_context.next=48;return connection.confirmTransaction(_signedTransaction,'processed');case 48:enqueueSnackbar(\"Swapped: \".concat(_signedTransaction),{variant:'success'});case 49:_context.next=54;break;case 51:_context.prev=51;_context.t0=_context[\"catch\"](0);enqueueSnackbar(\"\".concat(_context.t0),{variant:'error'});case 54:case\"end\":return _context.stop();}}},_callee,null,[[0,51]]);}));return _swapTokens.apply(this,arguments);}function getConvertedValue(_x4,_x5,_x6){return _getConvertedValue.apply(this,arguments);}function _getConvertedValue(){_getConvertedValue=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(tokenPoolA,tokenPoolB,amountToSwap){var tokenPair,tokenAmount,quote,convertedAmount,lpfees,networkfees,expectedoutputamount,priceimpact,_rate,tokenPairA,_tokenAmount2,_quote2,_convertedAmount2,tokenPairB,tokenAmountB,quoteB,convertedAmountB,_lpfees,_networkfees,_expectedoutputamount,_priceimpact,_rate2,lpfeesB,networkfeesB,expectedoutputamountB,priceimpactB,rateB;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.prev=1;if(tokenPoolB){_context2.next=24;break;}// USDC_FYFY CONVERSION\n//const tokenPool = orca.getPool(OrcaPoolConfig.FYFY_USDC);\ntokenPair=tokenPoolA.getTokenB();// USDC \ntokenAmount=new Decimal(amountToSwap);// amount in USDC\n_context2.next=7;return tokenPoolA.getQuote(tokenPair,tokenAmount);case 7:quote=_context2.sent;convertedAmount=quote.getMinOutputAmount();lpfees=quote.getLPFees();networkfees=quote.getNetworkFees();expectedoutputamount=quote.getExpectedOutputAmount();priceimpact=quote.getPriceImpact();_rate=quote.getRate();setTokenA(tokenPoolA.getTokenA().name);setTokenB(tokenPoolA.getTokenB().name);setConvertedAmountValue(expectedoutputamount.toNumber());setLPFees(lpfees.toNumber());setNetworkFees(networkfees.toNumber());setMinimumOutputAmount(convertedAmount.toNumber());setPriceImpact(priceimpact.toNumber());setRate(_rate.toNumber());_context2.next=54;break;case 24:// SOL_USDC ... FYFY_USDC conversion\ntokenPairA=tokenPoolA.getTokenA();// SOL_USDC\n_tokenAmount2=new Decimal(amountToSwap);_context2.next=28;return tokenPoolA.getQuote(tokenPairA,_tokenAmount2);case 28:_quote2=_context2.sent;_convertedAmount2=_quote2.getMinOutputAmount();//enqueueSnackbar(`Step 1. Preparing to swap ${tokenAmount.toString()} ${tokenPoolA.getTokenA().name} for at least ${convertedAmount.toNumber()} ${tokenPoolA.getTokenB().name}`,{ variant: 'info' });\ntokenPairB=tokenPoolB.getTokenB();// FYFY_USDC\ntokenAmountB=new Decimal(_convertedAmount2.toNumber());_context2.next=34;return tokenPoolB.getQuote(tokenPairB,tokenAmountB);case 34:quoteB=_context2.sent;// consider adding slippage amount\nconvertedAmountB=quoteB.getMinOutputAmount();//enqueueSnackbar(`Step 2. Preparing to swap ${tokenAmountB.toString()} ${tokenPoolB.getTokenB().name} for at least ${convertedAmountB.toNumber()} ${tokenPoolB.getTokenA().name}`,{ variant: 'info' });\n//const swapPayloadB = await tokenPoolB.swap(publicKey, tokenPairB, tokenAmountB, convertedAmountB);\nsetTokenA(tokenPoolA.getTokenA().name);setTokenB(tokenPoolB.getTokenB().name);_lpfees=_quote2.getLPFees();_networkfees=_quote2.getNetworkFees();_expectedoutputamount=_quote2.getExpectedOutputAmount();_priceimpact=_quote2.getPriceImpact();_rate2=_quote2.getRate();lpfeesB=quoteB.getLPFees();networkfeesB=quoteB.getNetworkFees();expectedoutputamountB=quoteB.getExpectedOutputAmount();priceimpactB=quoteB.getPriceImpact();rateB=quoteB.getRate();/*\n                console.log(\"lpfees: \"+lpfees.toNumber());\n                console.log(\"networkfees: \"+networkfees.toNumber());\n                console.log(\"expectedoutputamount: \"+expectedoutputamount.toNumber());\n                console.log(\"priceimpact: \"+priceimpact);\n                console.log(\"rate: \"+rate.toNumber());\n                console.log(\"***\");\n                console.log(\"lpfeesB: \"+lpfeesB.toNumber());\n                console.log(\"networkfeesB: \"+networkfeesB.toNumber());\n                console.log(\"expectedoutputamountB: \"+expectedoutputamountB.toNumber());\n                console.log(\"priceimpactB: \"+priceimpactB);\n                console.log(\"rateB: \"+rateB.toNumber());\n                */setConvertedAmountValue(expectedoutputamountB.toNumber());setLPFees(_lpfees.toNumber()+lpfeesB.toNumber());setNetworkFees(_networkfees.toNumber());setMinimumOutputAmount(convertedAmountB.toNumber());setPriceImpact(_priceimpact.toNumber()+priceimpactB.toNumber());//1 SOL = rate.toNumber() USDC\n//1 USDC = X grape\nsetRate(rateB.toNumber()*_rate2.toNumber());case 54:_context2.next=59;break;case 56:_context2.prev=56;_context2.t0=_context2[\"catch\"](1);enqueueSnackbar(\"\".concat(_context2.t0),{variant:'error'});case 59:setLoading(false);case 60:case\"end\":return _context2.stop();}}},_callee2,null,[[1,56]]);}));return _getConvertedValue.apply(this,arguments);}function HandleSendSubmit(event){event.preventDefault();if(amounttoswap>0&&amounttoswap<99999999999999){if(swapfrom==='USDC'&&swapto==='FYFY'){var tokenPool=orca.getPool(OrcaPoolConfig.FYFY_USDC);swapTokens(tokenPool,null,amounttoswap);handleClose();}else if(swapfrom==='SOL'&&swapto==='FYFY'){var tokenPoolA=orca.getPool(OrcaPoolConfig.SOL_USDC);var tokenPoolB=orca.getPool(OrcaPoolConfig.FYFY_USDC);swapTokens(tokenPoolA,tokenPoolB,amounttoswap);handleClose();}else if(swapfrom==='ORCA'&&swapto==='FYFY'){var _tokenPoolA=orca.getPool(OrcaPoolConfig.ORCA_USDC);var _tokenPoolB=orca.getPool(OrcaPoolConfig.FYFY_USDC);swapTokens(_tokenPoolA,_tokenPoolB,amounttoswap);handleClose();}}else{setConvertedAmountValue(0);enqueueSnackbar(\"Enter the balance you would like to send\",{variant:'error'});}}React.useEffect(function(){getPortfolioTokenBalance(swapfrom);},[]);React.useEffect(function(){// get the balance for this token\nif(amounttoswap>0&&amounttoswap<99999999999999){if(swapfrom==='USDC'&&swapto==='FYFY'){var tokenPool=orca.getPool(OrcaPoolConfig.FYFY_USDC);getConvertedValue(tokenPool,null,amounttoswap);}else if(swapfrom==='SOL'&&swapto==='FYFY'){var tokenPoolA=orca.getPool(OrcaPoolConfig.SOL_USDC);var tokenPoolB=orca.getPool(OrcaPoolConfig.FYFY_USDC);getConvertedValue(tokenPoolA,tokenPoolB,amounttoswap);}else if(swapfrom==='ORCA'&&swapto==='FYFY'){var _tokenPoolA2=orca.getPool(OrcaPoolConfig.ORCA_USDC);var _tokenPoolB2=orca.getPool(OrcaPoolConfig.FYFY_USDC);getConvertedValue(_tokenPoolA2,_tokenPoolB2,amounttoswap);}}else{setConvertedAmountValue(0);setLPFees(null);setNetworkFees(null);setMinimumOutputAmount(null);setPriceImpact(null);setRate(null);}},[amounttoswap]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Button,{variant:\"outlined\"//aria-controls={menuId}\n,title:\"Swap \".concat(swapfrom,\" > \").concat(swapto),onClick:handleClickOpen,size:\"small\"//onClick={isConnected ? handleProfileMenuOpen : handleOpen}\n,children:[swapfrom,\" \",/*#__PURE__*/_jsx(SwapHorizIcon,{sx:{mr:1,ml:1}}),\" \",swapto]}),/*#__PURE__*/_jsx(BootstrapDialog,{onClose:handleClose,\"aria-labelledby\":\"customized-dialog-title\",open:open,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:HandleSendSubmit,children:[/*#__PURE__*/_jsx(BootstrapDialogTitle,{id:\"customized-dialog-title\",onClose:handleClose,children:\"Swap\"}),/*#__PURE__*/_jsxs(DialogContent,{dividers:true,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(InputLabel,{id:\"from-label\",children:\"From\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"from-label\",id:\"from-select-dropdown\",fullWidth:true,value:swapfrom,onChange:handleSelectChange,label:\"From\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"USDC\",children:\"USDC\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"SOL\",children:\"SOL\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"ORCA\",children:\"ORCA\"})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{id:\"swap-token-amount\",inputRef:function inputRef(input){return input&&input.focus();},fullWidth:true,placeholder:\"0.00\",autoComplete:\"off\",variant:\"outlined\"//value={parseFloat((userTokenBalanceInput).toString().replace(/^0|[1-9]+/, ''))}\n,value:userTokenBalanceInput,type:\"number\",onChange:function onChange(e){// here add an additional check if valid number\n// let regex = \n// regex.text(e.target.value){\nsetTokensToSwap(+e.target.value);setTokenBalanceInput(+e.target.value);// }\n},InputProps:{inputProps:{step:0.000000001,style:{textAlign:'right'}}}})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:2}),/*#__PURE__*/_jsx(Grid,{item:true,xs:10,sx:{textAlign:'right'},children:/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",children:[\"Balance: \",tokenSwapAvailableBalance,\" \",swapfrom,/*#__PURE__*/_jsxs(ButtonGroup,{variant:\"text\",size:\"small\",\"aria-label\":\"outlined primary button group\",sx:{ml:1},children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setTokensToSwap(tokenSwapAvailableBalance);setTokenBalanceInput(tokenSwapAvailableBalance);},children:\"Max\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setTokensToSwap(+tokenSwapAvailableBalance/2);setTokenBalanceInput(+tokenSwapAvailableBalance/2);},children:\"Half\"})]})]})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(InputLabel,{id:\"to-label\",children:\"To\"}),/*#__PURE__*/_jsx(Select,{labelId:\"to-label\",id:\"to-select-dropdown\",fullWidth:true,value:swapto,label:\"To\",disabled:true,defaultValue:\"Disabled\",children:/*#__PURE__*/_jsx(MenuItem,{value:\"FYFY\",children:\"FYFY\"})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{id:\"swap-result\",fullWidth:true,autoComplete:\"off\",value:convertedAmountValue,type:\"number\",variant:\"outlined\",disabled:true,defaultValue:\"Disabled\",InputProps:{inputProps:{style:{textAlign:'right'}}}})})]})})]}),/*#__PURE__*/_jsx(\"p\",{children:!loading?/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{color:\"#aaaaaa\"},children:[priceImpact&&/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,sx:{textAlign:'right'},children:[\"Price Impact \",/*#__PURE__*/_jsx(Tooltip,{title:\"Swaping shifts the ratio of tokens in the pool, which will cause a change in the price per token\",children:/*#__PURE__*/_jsx(HelpOutlineIcon,{sx:{fontSize:14}})})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,sx:{textAlign:'right'},children:[priceImpact.toFixed(2),\"%\"]})]}),minimumOutputAmount&&/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,sx:{textAlign:'right'},children:[\"Minimum Received \",/*#__PURE__*/_jsx(Tooltip,{title:\"1% slippage tolerance\",children:/*#__PURE__*/_jsx(HelpOutlineIcon,{sx:{fontSize:14}})})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,sx:{textAlign:'right'},children:[minimumOutputAmount.toFixed(6),\" \",swapto]})]}),rate&&/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:9,sx:{textAlign:'right'},children:\"Rate\"}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:9,sx:{textAlign:'right'},children:[rate.toFixed(6),\" \",swapto,\" per \",swapfrom]})]}),lpFees&&/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,sx:{textAlign:'right'},children:[\"SWAP Fees \",/*#__PURE__*/_jsx(Tooltip,{title:\"Swap Fees (to LPs): including 0.05% split 80/20 Treasury Escrow\",children:/*#__PURE__*/_jsx(HelpOutlineIcon,{sx:{fontSize:14}})})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,sx:{textAlign:'right'},children:swapfrom!=='SOL'?/*#__PURE__*/_jsxs(_Fragment,{children:[(lpFees/amounttoswap*100).toFixed(2),\"% = $\",lpFees.toFixed(6)]}):/*#__PURE__*/_jsxs(_Fragment,{children:[0.30,\"% + \",0.30,\"% = ~$\",lpFees.toFixed(6)*2]})})]})}),networkFees&&/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,sx:{textAlign:'right'},children:\"Network Fees\"}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,sx:{textAlign:'right'},children:[networkFees/web3.LAMPORTS_PER_SOL,\" SOL\"]})]})]}):/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{color:\"#aaaaaa\"},children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sx:{textAlign:'center'},children:\"loading...\"})})})})]}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{fullWidth:true,type:\"submit\",variant:\"outlined\",title:\"Swap\"//disabled={userTokenBalanceInput > tokenSwapAvailableBalance}\n,sx:{margin:1},children:\"Swap\"})})]})})]});}","map":{"version":3,"sources":["/Users/mikovainio/FyFy/token-swap/src/FyfySwap.tsx"],"names":["React","useCallback","useConnection","useWallet","Transaction","getOrca","OrcaPoolConfig","Decimal","web3","styled","Dialog","Button","ButtonGroup","DialogTitle","DialogContent","DialogActions","TextField","FormControl","Grid","InputLabel","Tooltip","Typography","MenuItem","Select","useSnackbar","HelpOutlineIcon","IconButton","CloseIcon","SwapHorizIcon","trimAddress","addr","start","substring","end","length","BootstrapDialog","theme","padding","spacing","BootstrapDialogTitle","props","children","onClose","other","m","p","position","right","top","color","palette","grey","OrcaSwap","useState","tokenSwapAvailableBalance","setPortfolioSwapTokenAvailableBalance","portfolioPositions","setPortofolioPositions","open","setOpen","amounttoswap","setTokensToSwap","userTokenBalanceInput","setTokenBalanceInput","convertedAmountValue","setConvertedAmountValue","tokena","setTokenA","tokenb","setTokenB","lpFees","setLPFees","networkFees","setNetworkFees","minimumOutputAmount","setMinimumOutputAmount","priceImpact","setPriceImpact","rate","setRate","swapfrom","setSwapFrom","swapto","setSwapTo","usdc_mint","sol_mint","fyfy_mint","orca_mint","loading","setLoading","connection","orca","publicKey","wallet","sendTransaction","enqueueSnackbar","onError","error","message","name","variant","console","handleClickOpen","handleClose","getPortfolioTokenBalance","swapingfrom","withmint","balance","portfolio","map","token","mint","handleSelectChange","event","target","value","swapTokens","tokenPoolA","tokenPoolB","amountToSwap","transaction","tokenPairA","getTokenB","tokenAmount","getQuote","quote","convertedAmount","getMinOutputAmount","swap","swapPayload","toString","toNumber","getTokenA","signers","signedTransaction","confirmTransaction","tokenPairB","tokenAmountB","quoteB","convertedAmountB","swapPayloadB","add","getConvertedValue","tokenPair","lpfees","getLPFees","networkfees","getNetworkFees","expectedoutputamount","getExpectedOutputAmount","priceimpact","getPriceImpact","getRate","lpfeesB","networkfeesB","expectedoutputamountB","priceimpactB","rateB","HandleSendSubmit","preventDefault","tokenPool","getPool","FYFY_USDC","SOL_USDC","ORCA_USDC","useEffect","mr","ml","input","focus","e","inputProps","step","style","textAlign","fontSize","toFixed","LAMPORTS_PER_SOL","margin"],"mappings":"6wBAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,KAAmC,OAAnC,CAEA,OAASC,aAAT,CAAwBC,SAAxB,KAAyC,8BAAzC,CACA,OAASC,WAAT,KAA4B,iBAA5B,CACA,OAASC,OAAT,CAA4BC,cAA5B,KAAkD,cAAlD,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CACA,MAAO,GAAKC,CAAAA,IAAZ,KAAsB,iBAAtB,CAEA,OAASC,MAAT,KAAuB,sBAAvB,CAEA,OACEC,MADF,CAEEC,MAFF,CAGEC,WAHF,CAIEC,WAJF,CAKEC,aALF,CAMEC,aANF,CAOEC,SAPF,CAQEC,WARF,CASEC,IATF,CAUEC,UAVF,CAWEC,OAXF,CAYEC,UAZF,CAaEC,QAbF,KAcO,eAdP,CAgBA,MAAOC,CAAAA,MAAP,KAA0C,sBAA1C,CAEA;AACA,OAASC,WAAT,KAA4B,WAA5B,CAEA,MAAOC,CAAAA,eAAP,KAA4B,iCAA5B,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,aAAP,KAA0B,+BAA1B,C,6IAEA,QAASC,CAAAA,WAAT,CAAqBC,IAArB,CAAmC,CAC/B,GAAI,CAACA,IAAL,CAAW,MAAOA,CAAAA,IAAP,CACX,GAAIC,CAAAA,KAAK,CAAGD,IAAI,CAACE,SAAL,CAAe,CAAf,CAAkB,CAAlB,CAAZ,CACA,GAAIC,CAAAA,GAAG,CAAGH,IAAI,CAACE,SAAL,CAAeF,IAAI,CAACI,MAAL,CAAc,CAA7B,CAAV,CACA,gBAAUH,KAAV,eAAqBE,GAArB,EACH,CAED,GAAME,CAAAA,eAAe,CAAG1B,MAAM,CAACC,MAAD,CAAN,CAAe,kBAAG0B,CAAAA,KAAH,MAAGA,KAAH,OAAgB,CACrD,0BAA2B,CACzBC,OAAO,CAAED,KAAK,CAACE,OAAN,CAAc,CAAd,CADgB,CAD0B,CAIrD,0BAA2B,CACzBD,OAAO,CAAED,KAAK,CAACE,OAAN,CAAc,CAAd,CADgB,CAJ0B,CAAhB,EAAf,CAAxB,CAeA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,KAAD,CAA6B,CACxD,GAAQC,CAAAA,QAAR,CAAwCD,KAAxC,CAAQC,QAAR,CAAkBC,OAAlB,CAAwCF,KAAxC,CAAkBE,OAAlB,CAA8BC,KAA9B,0BAAwCH,KAAxC,YAEA,mBACE,MAAC,WAAD,8BAAa,EAAE,CAAE,CAAEI,CAAC,CAAE,CAAL,CAAQC,CAAC,CAAE,CAAX,CAAjB,EAAqCF,KAArC,gBACGF,QADH,CAEGC,OAAO,cACN,KAAC,UAAD,EACE,aAAW,OADb,CAEE,OAAO,CAAEA,OAFX,CAGE,EAAE,CAAE,CACFI,QAAQ,CAAE,UADR,CAEFC,KAAK,CAAE,CAFL,CAGFC,GAAG,CAAE,CAHH,CAIFC,KAAK,CAAE,eAACb,KAAD,QAAWA,CAAAA,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmB,GAAnB,CAAX,EAJL,CAHN,uBAUE,KAAC,SAAD,IAVF,EADM,CAaJ,IAfN,IADF,CAmBD,CAtBD,CAwBA,cAAe,SAASC,CAAAA,QAAT,CAAkBZ,KAAlB,CAA8B,CACzC,oBAA2ExC,KAAK,CAACqD,QAAN,CAAe,CAAf,CAA3E,oDAAOC,yBAAP,qBAAkCC,qCAAlC,qBACA,qBAAqDvD,KAAK,CAACqD,QAAN,CAAeb,KAAK,CAACgB,kBAArB,CAArD,qDAAOA,kBAAP,qBAA2BC,sBAA3B,qBACA,qBAAwBzD,KAAK,CAACqD,QAAN,CAAe,KAAf,CAAxB,qDAAOK,IAAP,qBAAaC,OAAb,qBACA,qBAAwC3D,KAAK,CAACqD,QAAN,CAAe,CAAf,CAAxC,qDAAOO,YAAP,qBAAqBC,eAArB,qBACA,qBAAsD7D,KAAK,CAACqD,QAAN,CAAe,CAAf,CAAtD,sDAAOS,qBAAP,sBAA8BC,oBAA9B,sBACA,sBAAwD/D,KAAK,CAACqD,QAAN,CAAe,CAAf,CAAxD,uDAAOW,oBAAP,sBAA6BC,uBAA7B,sBACA,sBAA4BjE,KAAK,CAACqD,QAAN,CAAe,IAAf,CAA5B,uDAAOa,MAAP,sBAAeC,SAAf,sBACA,sBAA4BnE,KAAK,CAACqD,QAAN,CAAe,IAAf,CAA5B,uDAAOe,MAAP,sBAAeC,SAAf,sBACA,sBAA4BrE,KAAK,CAACqD,QAAN,CAAe,IAAf,CAA5B,uDAAOiB,MAAP,sBAAeC,SAAf,sBACA,sBAAsCvE,KAAK,CAACqD,QAAN,CAAe,IAAf,CAAtC,uDAAOmB,WAAP,sBAAoBC,cAApB,sBACA,sBAAsDzE,KAAK,CAACqD,QAAN,CAAe,IAAf,CAAtD,uDAAOqB,mBAAP,sBAA4BC,sBAA5B,sBACA,sBAAsC3E,KAAK,CAACqD,QAAN,CAAe,IAAf,CAAtC,uDAAOuB,WAAP,sBAAoBC,cAApB,sBACA,sBAAwB7E,KAAK,CAACqD,QAAN,CAAe,IAAf,CAAxB,uDAAOyB,IAAP,sBAAaC,OAAb,sBACA,sBAAgC/E,KAAK,CAACqD,QAAN,CAAeb,KAAK,CAACwC,QAArB,CAAhC,uDAAOA,QAAP,sBAAiBC,WAAjB,sBACA,sBAA4BjF,KAAK,CAACqD,QAAN,CAAeb,KAAK,CAAC0C,MAArB,CAA5B,uDAAOA,MAAP,sBAAeC,SAAf,sBAEA,GAAMC,CAAAA,SAAS,CAAG,8CAAlB,CACA,GAAMC,CAAAA,QAAQ,CAAG,6CAAjB,CACA,GAAMC,CAAAA,SAAS,CAAG,6CAAlB,CACA,GAAMC,CAAAA,SAAS,CAAG,6CAAlB,CAEA,sBAA8BvF,KAAK,CAACqD,QAAN,CAAe,KAAf,CAA9B,uDAAOmC,OAAP,sBAAgBC,UAAhB,sBAEA;AACA;AACA;AACA;AACA;AACA,mBAAuBvF,aAAa,EAApC,CAAQwF,UAAR,gBAAQA,UAAR,CACA,GAAMC,CAAAA,IAAI,CAAGtF,OAAO,CAACqF,UAAD,CAApB,CAEA,eAA+CvF,SAAS,EAAxD,CAAQyF,SAAR,YAAQA,SAAR,CAAmBC,MAAnB,YAAmBA,MAAnB,CAA2BC,eAA3B,YAA2BA,eAA3B,CACA,iBAA4BtE,WAAW,EAAvC,CAAQuE,eAAR,cAAQA,eAAR,CACA,GAAMC,CAAAA,OAAO,CAAG/F,WAAW,CACvB,SAACgG,KAAD,CAAwB,CACpBF,eAAe,CAACE,KAAK,CAACC,OAAN,WAAmBD,KAAK,CAACE,IAAzB,cAAkCF,KAAK,CAACC,OAAxC,EAAoDD,KAAK,CAACE,IAA3D,CAAiE,CAAEC,OAAO,CAAE,OAAX,CAAjE,CAAf,CACAC,OAAO,CAACJ,KAAR,CAAcA,KAAd,EACH,CAJsB,CAKvB,CAACF,eAAD,CALuB,CAA3B,CAOA,GAAMO,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1BvC,oBAAoB,CAAC,CAAD,CAApB,CACAF,eAAe,CAAC,CAAD,CAAf,CACAF,OAAO,CAAC,IAAD,CAAP,CACH,CAJD,CAKA,GAAM4C,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB5C,OAAO,CAAC,KAAD,CAAP,CACH,CAFD,CAIA,QAAS6C,CAAAA,wBAAT,CAAkCC,WAAlC,CAAqD,CACjD,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAID,WAAW,GAAK,MAApB,CAA2B,CACvBC,QAAQ,CAAGtB,SAAX,CACH,CAFD,IAEO,IAAIqB,WAAW,GAAK,KAApB,CAA0B,CAC7BC,QAAQ,CAAGrB,QAAX,CACH,CAFM,IAEA,IAAIoB,WAAW,GAAK,MAApB,CAA2B,CAC9BC,QAAQ,CAAGnB,SAAX,CACH,CAED,GAAIoB,CAAAA,OAAO,CAAG,CAAd,CACAnD,kBAAkB,CAACoD,SAAnB,CAA6BC,GAA7B,CAAiC,SAACC,KAAD,CAAgB,CAC7C,GAAIA,KAAK,CAACC,IAAN,GAAeL,QAAnB,CAA4B,CACxB,GAAII,KAAK,CAACH,OAAN,CAAgB,CAApB,CACIA,OAAO,CAAGG,KAAK,CAACH,OAAhB,CACP,CACJ,CALD,EAMApD,qCAAqC,CAACoD,OAAD,CAArC,CACH,CAGD,GAAMK,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,KAAD,CAA8B,CACrDhC,WAAW,CAACgC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CACAX,wBAAwB,CAACS,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAxB,CACApD,oBAAoB,CAAC,CAAD,CAApB,CACAF,eAAe,CAAC,CAAD,CAAf,CACAI,uBAAuB,CAAC,CAAD,CAAvB,CACAM,SAAS,CAAC,IAAD,CAAT,CACAE,cAAc,CAAC,IAAD,CAAd,CACAE,sBAAsB,CAAC,IAAD,CAAtB,CACAE,cAAc,CAAC,IAAD,CAAd,CACAE,OAAO,CAAC,IAAD,CAAP,CACH,CAXD,CAvEyC,QAoF1BqC,CAAAA,UApF0B,kJAoFzC,iBAA0BC,UAA1B,CAAgDC,UAAhD,CAAsEC,YAAtE,2WAEQ,cAFR,CAGQ;AACA;AACIC,WALZ,CAK0B,GAAIpH,CAAAA,WAAJ,EAL1B,IAOakH,UAPb,0BASkBG,UATlB,CAS+BJ,UAAU,CAACK,SAAX,EAT/B,CASuD;AACrCC,WAVlB,CAUgC,GAAIpH,CAAAA,OAAJ,CAAYgH,YAAZ,CAVhC,CAU2D;AAV3D,sBAWgCF,CAAAA,UAAU,CAACO,QAAX,CAAoBH,UAApB,CAAgCE,WAAhC,CAXhC,QAWkBE,KAXlB,eAYkBC,eAZlB,CAYoCD,KAAK,CAACE,kBAAN,EAZpC,wBAasCV,CAAAA,UAAU,CAACW,IAAX,CAAgBpC,SAAhB,CAA2B6B,UAA3B,CAAuCE,WAAvC,CAAoDG,eAApD,CAbtC,SAakBG,WAblB,eAeYlC,eAAe,6BAAsB4B,WAAW,CAACO,QAAZ,EAAtB,aAAgDb,UAAU,CAACK,SAAX,GAAuBvB,IAAvE,0BAA4F2B,eAAe,CAACK,QAAhB,EAA5F,aAA0Hd,UAAU,CAACe,SAAX,GAAuBjC,IAAjJ,EAAwJ,CAAEC,OAAO,CAAE,MAAX,CAAxJ,CAAf,CACA;AAhBZ,uBAkB4CN,CAAAA,eAAe,CAACmC,WAAW,CAACT,WAAb,CAA0B9B,UAA1B,CAAsC,CAAC2C,OAAO,CAAEJ,WAAW,CAACI,OAAtB,CAAtC,CAlB3D,SAkBkBC,iBAlBlB,eAmBYvC,eAAe,qBAAqB,CAAEK,OAAO,CAAE,MAAX,CAArB,CAAf,CAnBZ,uBAoBkBV,CAAAA,UAAU,CAAC6C,kBAAX,CAA8BD,iBAA9B,CAAiD,WAAjD,CApBlB,SAqBYvC,eAAe,oBAAauC,iBAAb,EAAiC,CAAElC,OAAO,CAAE,SAAX,CAAjC,CAAf,CArBZ,+BAuBkBqB,WAvBlB,CAuB+BJ,UAAU,CAACe,SAAX,EAvB/B,CAuBuD;AACrCT,YAxBlB,CAwBgC,GAAIpH,CAAAA,OAAJ,CAAYgH,YAAZ,CAxBhC,wBAyBgCF,CAAAA,UAAU,CAACO,QAAX,CAAoBH,WAApB,CAAgCE,YAAhC,CAzBhC,SAyBkBE,MAzBlB,eA0BkBC,gBA1BlB,CA0BoCD,MAAK,CAACE,kBAAN,EA1BpC,wBA2BsCV,CAAAA,UAAU,CAACW,IAAX,CAAgBpC,SAAhB,CAA2B6B,WAA3B,CAAuCE,YAAvC,CAAoDG,gBAApD,CA3BtC,SA2BkBG,YA3BlB,eA6BY;AACMO,UA9BlB,CA8B+BlB,UAAU,CAACI,SAAX,EA9B/B,CA8BuD;AACrCe,YA/BlB,CA+BiC,GAAIlI,CAAAA,OAAJ,CAAYuH,gBAAe,CAACK,QAAhB,EAAZ,CA/BjC,wBAgCiCb,CAAAA,UAAU,CAACM,QAAX,CAAoBY,UAApB,CAAgCC,YAAhC,CAhCjC,SAgCkBC,MAhClB,eAgCgF;AAC9DC,gBAjClB,CAiCqCD,MAAM,CAACX,kBAAP,EAjCrC,CAkCY;AAlCZ,uBAmCuCT,CAAAA,UAAU,CAACU,IAAX,CAAgBpC,SAAhB,CAA2B4C,UAA3B,CAAuCC,YAAvC,CAAqDE,gBAArD,CAnCvC,SAmCkBC,YAnClB,eAoCY7C,eAAe,6BAAsB4B,YAAW,CAACO,QAAZ,EAAtB,aAAgDb,UAAU,CAACe,SAAX,GAAuBjC,IAAvE,0BAA4FwC,gBAAgB,CAACR,QAAjB,EAA5F,aAA2Hb,UAAU,CAACc,SAAX,GAAuBjC,IAAlJ,EAAyJ,CAAEC,OAAO,CAAE,MAAX,CAAzJ,CAAf,CAEAoB,WAAW,CAAGS,YAAW,CAACT,WAAZ,CAAwBqB,GAAxB,CAA4BD,YAAY,CAACpB,WAAzC,CAAd,CACA;AACA;AAxCZ,uBA0C4C1B,CAAAA,eAAe,CAAC0B,WAAD,CAAc9B,UAAd,CAA0B,CAAC2C,OAAO,8BAAMJ,YAAW,CAACI,OAAlB,qBAA8BO,YAAY,CAACP,OAA3C,EAAR,CAA1B,CA1C3D,SA0CkBC,kBA1ClB,eA4CYvC,eAAe,qBAAqB,CAAEK,OAAO,CAAE,MAAX,CAArB,CAAf,CA5CZ,uBA6CkBV,CAAAA,UAAU,CAAC6C,kBAAX,CAA8BD,kBAA9B,CAAiD,WAAjD,CA7ClB,SA8CYvC,eAAe,oBAAauC,kBAAb,EAAiC,CAAElC,OAAO,CAAE,SAAX,CAAjC,CAAf,CA9CZ,yFAmDQL,eAAe,wBAAQ,CAAEK,OAAO,CAAE,OAAX,CAAR,CAAf,CAnDR,qEApFyC,qDA2I1B0C,CAAAA,iBA3I0B,wKA2IzC,kBAAiCzB,UAAjC,CAAuDC,UAAvD,CAA6EC,YAA7E,gcACI9B,UAAU,CAAC,IAAD,CAAV,CADJ,oBAGa6B,UAHb,2BAG0B;AACd;AACMyB,SALlB,CAK8B1B,UAAU,CAACK,SAAX,EAL9B,CAKsD;AACpCC,WANlB,CAMgC,GAAIpH,CAAAA,OAAJ,CAAYgH,YAAZ,CANhC,CAM2D;AAN3D,uBAOgCF,CAAAA,UAAU,CAACO,QAAX,CAAoBmB,SAApB,CAA+BpB,WAA/B,CAPhC,QAOkBE,KAPlB,gBAQkBC,eARlB,CAQoCD,KAAK,CAACE,kBAAN,EARpC,CAUkBiB,MAVlB,CAU2BnB,KAAK,CAACoB,SAAN,EAV3B,CAWkBC,WAXlB,CAWgCrB,KAAK,CAACsB,cAAN,EAXhC,CAYkBC,oBAZlB,CAYyCvB,KAAK,CAACwB,uBAAN,EAZzC,CAakBC,WAblB,CAagCzB,KAAK,CAAC0B,cAAN,EAbhC,CAckBzE,KAdlB,CAcyB+C,KAAK,CAAC2B,OAAN,EAdzB,CAgBYrF,SAAS,CAACkD,UAAU,CAACe,SAAX,GAAuBjC,IAAxB,CAAT,CACA9B,SAAS,CAACgD,UAAU,CAACK,SAAX,GAAuBvB,IAAxB,CAAT,CAEAlC,uBAAuB,CAACmF,oBAAoB,CAACjB,QAArB,EAAD,CAAvB,CACA5D,SAAS,CAACyE,MAAM,CAACb,QAAP,EAAD,CAAT,CACA1D,cAAc,CAACyE,WAAW,CAACf,QAAZ,EAAD,CAAd,CACAxD,sBAAsB,CAACmD,eAAe,CAACK,QAAhB,EAAD,CAAtB,CACAtD,cAAc,CAACyE,WAAW,CAACnB,QAAZ,EAAD,CAAd,CACApD,OAAO,CAACD,KAAI,CAACqD,QAAL,EAAD,CAAP,CAxBZ,gCAyBiB;AACCV,UA1BlB,CA0B+BJ,UAAU,CAACe,SAAX,EA1B/B,CA0BuD;AACrCT,aA3BlB,CA2BgC,GAAIpH,CAAAA,OAAJ,CAAYgH,YAAZ,CA3BhC,yBA4BgCF,CAAAA,UAAU,CAACO,QAAX,CAAoBH,UAApB,CAAgCE,aAAhC,CA5BhC,SA4BkBE,OA5BlB,gBA6BkBC,iBA7BlB,CA6BoCD,OAAK,CAACE,kBAAN,EA7BpC,CA8BY;AACMS,UA/BlB,CA+B+BlB,UAAU,CAACI,SAAX,EA/B/B,CA+BuD;AACrCe,YAhClB,CAgCiC,GAAIlI,CAAAA,OAAJ,CAAYuH,iBAAe,CAACK,QAAhB,EAAZ,CAhCjC,yBAiCiCb,CAAAA,UAAU,CAACM,QAAX,CAAoBY,UAApB,CAAgCC,YAAhC,CAjCjC,SAiCkBC,MAjClB,gBAiCgF;AAC9DC,gBAlClB,CAkCqCD,MAAM,CAACX,kBAAP,EAlCrC,CAmCY;AACA;AAEA5D,SAAS,CAACkD,UAAU,CAACe,SAAX,GAAuBjC,IAAxB,CAAT,CACA9B,SAAS,CAACiD,UAAU,CAACI,SAAX,GAAuBvB,IAAxB,CAAT,CAEM6C,OAzClB,CAyC2BnB,OAAK,CAACoB,SAAN,EAzC3B,CA0CkBC,YA1ClB,CA0CgCrB,OAAK,CAACsB,cAAN,EA1ChC,CA2CkBC,qBA3ClB,CA2CyCvB,OAAK,CAACwB,uBAAN,EA3CzC,CA4CkBC,YA5ClB,CA4CgCzB,OAAK,CAAC0B,cAAN,EA5ChC,CA6CkBzE,MA7ClB,CA6CyB+C,OAAK,CAAC2B,OAAN,EA7CzB,CA+CkBC,OA/ClB,CA+C4Bf,MAAM,CAACO,SAAP,EA/C5B,CAgDkBS,YAhDlB,CAgDiChB,MAAM,CAACS,cAAP,EAhDjC,CAiDkBQ,qBAjDlB,CAiD0CjB,MAAM,CAACW,uBAAP,EAjD1C,CAkDkBO,YAlDlB,CAkDiClB,MAAM,CAACa,cAAP,EAlDjC,CAmDkBM,KAnDlB,CAmD0BnB,MAAM,CAACc,OAAP,EAnD1B,CAoDY;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBACgBvF,uBAAuB,CAAC0F,qBAAqB,CAACxB,QAAtB,EAAD,CAAvB,CACA5D,SAAS,CAACyE,OAAM,CAACb,QAAP,GAAkBsB,OAAO,CAACtB,QAAR,EAAnB,CAAT,CACA1D,cAAc,CAACyE,YAAW,CAACf,QAAZ,EAAD,CAAd,CAEAxD,sBAAsB,CAACgE,gBAAgB,CAACR,QAAjB,EAAD,CAAtB,CACAtD,cAAc,CAACyE,YAAW,CAACnB,QAAZ,GAAuByB,YAAY,CAACzB,QAAb,EAAxB,CAAd,CAEA;AACA;AAEApD,OAAO,CAAC8E,KAAK,CAAC1B,QAAN,GAAiBrD,MAAI,CAACqD,QAAL,EAAlB,CAAP,CA3EZ,6FA8EQpC,eAAe,yBAAQ,CAAEK,OAAO,CAAE,OAAX,CAAR,CAAf,CA9ER,QAgFIX,UAAU,CAAC,KAAD,CAAV,CAhFJ,uEA3IyC,oDA8NzC,QAASqE,CAAAA,gBAAT,CAA0B7C,KAA1B,CAAsC,CAClCA,KAAK,CAAC8C,cAAN,GACA,GAAKnG,YAAY,CAAG,CAAhB,EAAqBA,YAAY,CAAG,cAAxC,CAAwD,CACpD,GAAKoB,QAAQ,GAAK,MAAd,EAA0BE,MAAM,GAAK,MAAzC,CAAiD,CAC7C,GAAM8E,CAAAA,SAAS,CAAGrE,IAAI,CAACsE,OAAL,CAAa3J,cAAc,CAAC4J,SAA5B,CAAlB,CACA9C,UAAU,CAAC4C,SAAD,CAAY,IAAZ,CAAkBpG,YAAlB,CAAV,CACA2C,WAAW,GACd,CAJD,IAIO,IAAKvB,QAAQ,GAAK,KAAd,EAAyBE,MAAM,GAAK,MAAxC,CAAgD,CACnD,GAAMmC,CAAAA,UAAU,CAAG1B,IAAI,CAACsE,OAAL,CAAa3J,cAAc,CAAC6J,QAA5B,CAAnB,CACA,GAAM7C,CAAAA,UAAU,CAAG3B,IAAI,CAACsE,OAAL,CAAa3J,cAAc,CAAC4J,SAA5B,CAAnB,CACA9C,UAAU,CAACC,UAAD,CAAaC,UAAb,CAAyB1D,YAAzB,CAAV,CACA2C,WAAW,GACd,CALM,IAKA,IAAKvB,QAAQ,GAAK,MAAd,EAA0BE,MAAM,GAAK,MAAzC,CAAiD,CACpD,GAAMmC,CAAAA,WAAU,CAAG1B,IAAI,CAACsE,OAAL,CAAa3J,cAAc,CAAC8J,SAA5B,CAAnB,CACA,GAAM9C,CAAAA,WAAU,CAAG3B,IAAI,CAACsE,OAAL,CAAa3J,cAAc,CAAC4J,SAA5B,CAAnB,CACA9C,UAAU,CAACC,WAAD,CAAaC,WAAb,CAAyB1D,YAAzB,CAAV,CACA2C,WAAW,GACd,CACJ,CAhBD,IAgBK,CACDtC,uBAAuB,CAAC,CAAD,CAAvB,CACA8B,eAAe,4CAA4C,CAAEK,OAAO,CAAE,OAAX,CAA5C,CAAf,CACH,CACJ,CAEDpG,KAAK,CAACqK,SAAN,CAAgB,UAAM,CAClB7D,wBAAwB,CAACxB,QAAD,CAAxB,CACH,CAFD,CAEG,EAFH,EAIAhF,KAAK,CAACqK,SAAN,CAAgB,UAAM,CAElB;AACA,GAAKzG,YAAY,CAAG,CAAhB,EAAqBA,YAAY,CAAG,cAAxC,CAAwD,CACpD,GAAKoB,QAAQ,GAAK,MAAd,EAA0BE,MAAM,GAAK,MAAzC,CAAiD,CAC7C,GAAM8E,CAAAA,SAAS,CAAGrE,IAAI,CAACsE,OAAL,CAAa3J,cAAc,CAAC4J,SAA5B,CAAlB,CACApB,iBAAiB,CAACkB,SAAD,CAAY,IAAZ,CAAkBpG,YAAlB,CAAjB,CACH,CAHD,IAGO,IAAKoB,QAAQ,GAAK,KAAd,EAAyBE,MAAM,GAAK,MAAxC,CAAgD,CACnD,GAAMmC,CAAAA,UAAU,CAAG1B,IAAI,CAACsE,OAAL,CAAa3J,cAAc,CAAC6J,QAA5B,CAAnB,CACA,GAAM7C,CAAAA,UAAU,CAAG3B,IAAI,CAACsE,OAAL,CAAa3J,cAAc,CAAC4J,SAA5B,CAAnB,CACApB,iBAAiB,CAACzB,UAAD,CAAaC,UAAb,CAAwB1D,YAAxB,CAAjB,CACH,CAJM,IAIA,IAAKoB,QAAQ,GAAK,MAAd,EAA0BE,MAAM,GAAK,MAAzC,CAAiD,CACpD,GAAMmC,CAAAA,YAAU,CAAG1B,IAAI,CAACsE,OAAL,CAAa3J,cAAc,CAAC8J,SAA5B,CAAnB,CACA,GAAM9C,CAAAA,YAAU,CAAG3B,IAAI,CAACsE,OAAL,CAAa3J,cAAc,CAAC4J,SAA5B,CAAnB,CACApB,iBAAiB,CAACzB,YAAD,CAAaC,YAAb,CAAwB1D,YAAxB,CAAjB,CACH,CACJ,CAbD,IAaM,CACFK,uBAAuB,CAAC,CAAD,CAAvB,CACAM,SAAS,CAAC,IAAD,CAAT,CACAE,cAAc,CAAC,IAAD,CAAd,CACAE,sBAAsB,CAAC,IAAD,CAAtB,CACAE,cAAc,CAAC,IAAD,CAAd,CACAE,OAAO,CAAC,IAAD,CAAP,CACH,CACJ,CAxBD,CAwBG,CAACnB,YAAD,CAxBH,EA0BA,mBACI,oCACI,MAAC,MAAD,EACI,OAAO,CAAC,UACR;AAFJ,CAGI,KAAK,gBAAUoB,QAAV,eAAwBE,MAAxB,CAHT,CAII,OAAO,CAAEoB,eAJb,CAKI,IAAI,CAAC,OACL;AANJ,WAQKtB,QARL,kBAQe,KAAC,aAAD,EAAe,EAAE,CAAE,CAACsF,EAAE,CAAC,CAAJ,CAAMC,EAAE,CAAC,CAAT,CAAnB,EARf,KAQmDrF,MARnD,GADJ,cAWA,KAAC,eAAD,EACI,OAAO,CAAEqB,WADb,CAEI,kBAAgB,yBAFpB,CAGI,IAAI,CAAE7C,IAHV,uBAKI,cAAM,QAAQ,CAAEoG,gBAAhB,wBACI,KAAC,oBAAD,EAAsB,EAAE,CAAC,yBAAzB,CAAmD,OAAO,CAAEvD,WAA5D,kBADJ,cAII,MAAC,aAAD,EAAe,QAAQ,KAAvB,wBACQ,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,wBACI,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,uBACQ,MAAC,IAAD,EAAM,SAAS,KAAf,wBACI,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,uBACI,MAAC,WAAD,yBACI,KAAC,UAAD,EAAY,EAAE,CAAC,YAAf,kBADJ,cAEI,MAAC,MAAD,EACI,OAAO,CAAC,YADZ,CAEI,EAAE,CAAC,sBAFP,CAGI,SAAS,KAHb,CAII,KAAK,CAAEvB,QAJX,CAKI,QAAQ,CAAEgC,kBALd,CAMI,KAAK,CAAC,MANV,wBAQI,KAAC,QAAD,EAAU,KAAK,CAAC,MAAhB,kBARJ,cASI,KAAC,QAAD,EAAU,KAAK,CAAC,KAAhB,iBATJ,cAUI,KAAC,QAAD,EAAU,KAAK,CAAC,MAAhB,kBAVJ,GAFJ,GADJ,EADJ,cAkBI,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,uBACI,KAAC,SAAD,EACI,EAAE,CAAC,mBADP,CAEI,QAAQ,CAAE,kBAAAwD,KAAK,QAAIA,CAAAA,KAAK,EAAIA,KAAK,CAACC,KAAN,EAAb,EAFnB,CAGI,SAAS,KAHb,CAII,WAAW,CAAC,MAJhB,CAKI,YAAY,CAAC,KALjB,CAMI,OAAO,CAAC,UACR;AAPJ,CAQI,KAAK,CAAE3G,qBARX,CASI,IAAI,CAAC,QATT,CAUI,QAAQ,CAAE,kBAAC4G,CAAD,CAAO,CACb;AACA;AACA;AACA7G,eAAe,CAAC,CAAC6G,CAAC,CAACxD,MAAF,CAASC,KAAX,CAAf,CACApD,oBAAoB,CAAC,CAAC2G,CAAC,CAACxD,MAAF,CAASC,KAAX,CAApB,CACA;AACH,CAjBL,CAkBI,UAAU,CAAE,CACRwD,UAAU,CAAE,CACRC,IAAI,CAAE,WADE,CAERC,KAAK,CAAE,CACHC,SAAS,CAAC,OADP,CAFC,CADJ,CAlBhB,EADJ,EAlBJ,GADR,EADJ,cAmDI,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,uBACI,MAAC,IAAD,EAAM,SAAS,KAAf,wBACI,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,EADJ,cAII,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CACI,EAAE,CAAE,CAACA,SAAS,CAAC,OAAX,CADR,uBAGI,MAAC,UAAD,EACI,OAAO,CAAC,SADZ,uBAGcxH,yBAHd,KAG0C0B,QAH1C,cAII,MAAC,WAAD,EAAa,OAAO,CAAC,MAArB,CAA4B,IAAI,CAAC,OAAjC,CAAyC,aAAW,+BAApD,CAAoF,EAAE,CAAE,CAACuF,EAAE,CAAC,CAAJ,CAAxF,wBACI,KAAC,MAAD,EACI,OAAO,CAAE,kBAAM,CACX1G,eAAe,CAACP,yBAAD,CAAf,CACAS,oBAAoB,CAACT,yBAAD,CAApB,CACH,CAJL,iBADJ,cASI,KAAC,MAAD,EACI,OAAO,CAAE,kBAAM,CACXO,eAAe,CAAC,CAACP,yBAAD,CAA2B,CAA5B,CAAf,CACAS,oBAAoB,CAAC,CAACT,yBAAD,CAA2B,CAA5B,CAApB,CACH,CAJL,kBATJ,GAJJ,GAHJ,EAJJ,GADJ,EAnDJ,cAsFI,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,uBACI,MAAC,IAAD,EAAM,SAAS,KAAf,wBACI,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,uBACI,MAAC,WAAD,yBACI,KAAC,UAAD,EAAY,EAAE,CAAC,UAAf,gBADJ,cAEI,KAAC,MAAD,EACI,OAAO,CAAC,UADZ,CAEI,EAAE,CAAC,oBAFP,CAGI,SAAS,KAHb,CAII,KAAK,CAAE4B,MAJX,CAKI,KAAK,CAAC,IALV,CAMI,QAAQ,KANZ,CAOI,YAAY,CAAC,UAPjB,uBASI,KAAC,QAAD,EAAU,KAAK,CAAC,MAAhB,kBATJ,EAFJ,GADJ,EADJ,cAiBI,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,uBACI,KAAC,SAAD,EACI,EAAE,CAAC,aADP,CAEI,SAAS,KAFb,CAGI,YAAY,CAAC,KAHjB,CAII,KAAK,CAAElB,oBAJX,CAKI,IAAI,CAAC,QALT,CAMI,OAAO,CAAC,UANZ,CAOI,QAAQ,KAPZ,CAQI,YAAY,CAAC,UARjB,CASI,UAAU,CAAE,CACR2G,UAAU,CAAE,CACRE,KAAK,CAAE,CACHC,SAAS,CAAC,OADP,CADC,CADJ,CAThB,EADJ,EAjBJ,GADJ,EAtFJ,GADR,cA+HQ,mBACC,CAACtF,OAAD,cACG,MAAC,UAAD,EAAY,OAAO,CAAC,SAApB,CAA8B,EAAE,CAAE,CAACvC,KAAK,CAAC,SAAP,CAAlC,WACK2B,WAAW,eACR,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,wBACI,MAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CACI,EAAE,CAAE,CACAkG,SAAS,CAAC,OADV,CADR,wCAKa,KAAC,OAAD,EAAS,KAAK,mGAAd,uBAAoH,KAAC,eAAD,EAAiB,EAAE,CAAE,CAAEC,QAAQ,CAAC,EAAX,CAArB,EAApH,EALb,GADJ,cAQI,MAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CACI,EAAE,CAAE,CACAD,SAAS,CAAC,OADV,CADR,WAKMlG,WAAD,CAAcoG,OAAd,CAAsB,CAAtB,CALL,OARJ,GAFR,CAmBKtG,mBAAmB,eAChB,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,wBACI,MAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CACI,EAAE,CAAE,CACAoG,SAAS,CAAC,OADV,CADR,4CAKiB,KAAC,OAAD,EAAS,KAAK,wBAAd,uBAAyC,KAAC,eAAD,EAAiB,EAAE,CAAE,CAAEC,QAAQ,CAAC,EAAX,CAArB,EAAzC,EALjB,GADJ,cAQI,MAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CACI,EAAE,CAAE,CACAD,SAAS,CAAC,OADV,CADR,WAKKpG,mBAAmB,CAACsG,OAApB,CAA4B,CAA5B,CALL,KAKsC9F,MALtC,GARJ,GApBR,CAsCKJ,IAAI,eACD,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,wBACI,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CACI,EAAE,CAAE,CACAgG,SAAS,CAAC,OADV,CADR,kBADJ,cAQI,MAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CACI,EAAE,CAAE,CACAA,SAAS,CAAC,OADV,CADR,WAKKhG,IAAI,CAACkG,OAAL,CAAa,CAAb,CALL,KAKuB9F,MALvB,SAKoCF,QALpC,GARJ,GAvCR,CAwDKV,MAAM,eACH,KAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,uBACI,wCACA,MAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CACI,EAAE,CAAE,CACAwG,SAAS,CAAC,OADV,CADR,qCAKc,KAAC,OAAD,EAAS,KAAK,kEAAd,uBAAmF,KAAC,eAAD,EAAiB,EAAE,CAAE,CAAEC,QAAQ,CAAC,EAAX,CAArB,EAAnF,EALd,GADA,cAQA,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CACI,EAAE,CAAE,CACAD,SAAS,CAAC,OADV,CADR,UAKK9F,QAAQ,GAAK,KAAb,cACG,2BACC,CAACV,MAAM,CAACV,YAAP,CAAoB,GAArB,EAA0BoH,OAA1B,CAAkC,CAAlC,CADD,SAC4C1G,MAAM,CAAC0G,OAAP,CAAe,CAAf,CAD5C,GADH,cAKG,2BAAI,IAAJ,QAAgB,IAAhB,UAA6B1G,MAAM,CAAC0G,OAAP,CAAe,CAAf,EAAkB,CAA/C,GAVR,EARA,GADJ,EAzDR,CAkFKxG,WAAW,eACR,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,wBACI,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CACI,EAAE,CAAE,CACAsG,SAAS,CAAC,OADV,CADR,0BADJ,cAQI,MAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CACI,EAAE,CAAE,CACAA,SAAS,CAAC,OADV,CADR,WAKMtG,WAAW,CAAChE,IAAI,CAACyK,gBALvB,UARJ,GAnFR,GADH,cAuGG,KAAC,UAAD,EAAY,OAAO,CAAC,SAApB,CAA8B,EAAE,CAAE,CAAChI,KAAK,CAAC,SAAP,CAAlC,uBACI,KAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,uBACI,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CACQ,EAAE,CAAE,CACA6H,SAAS,CAAC,QADV,CADZ,wBADJ,EADJ,EAxGJ,EA/HR,GAJJ,cAyPI,KAAC,aAAD,wBACI,KAAC,MAAD,EACI,SAAS,KADb,CAEI,IAAI,CAAC,QAFT,CAGI,OAAO,CAAC,UAHZ,CAII,KAAK,CAAC,MACN;AALJ,CAMI,EAAE,CAAE,CACAI,MAAM,CAAC,CADP,CANR,kBADJ,EAzPJ,GALJ,EAXA,GADJ,CA2RH","sourcesContent":["import React, { useCallback } from 'react';\nimport { WalletError } from '@solana/wallet-adapter-base';\nimport { useConnection, useWallet } from '@solana/wallet-adapter-react';\nimport { Transaction } from '@solana/web3.js';\nimport { getOrca, OrcaPool, OrcaPoolConfig } from \"@orca-so/sdk\";\nimport Decimal from \"decimal.js\";\nimport * as web3 from '@solana/web3.js';\n\nimport { styled } from '@mui/material/styles';\n\nimport {\n  Dialog,\n  Button,\n  ButtonGroup,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  FormControl,\n  Grid,\n  InputLabel,\n  Tooltip,\n  Typography,\n  MenuItem\n} from '@mui/material';\n\nimport Select, { SelectChangeEvent } from '@mui/material/Select';\n\n//import { MakeLinkableAddress, ValidateAddress } from '../../components/Tools/WalletAddress'; // global key handling\nimport { useSnackbar } from 'notistack';\n\nimport HelpOutlineIcon from '@mui/icons-material/HelpOutline';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport SwapHorizIcon from '@mui/icons-material/SwapHoriz';\n\nfunction trimAddress(addr: string) {\n    if (!addr) return addr;\n    let start = addr.substring(0, 8);\n    let end = addr.substring(addr.length - 4);\n    return `${start}...${end}`;\n}\n\nconst BootstrapDialog = styled(Dialog)(({ theme }) => ({\n  '& .MuDialogContent-root': {\n    padding: theme.spacing(2),\n  },\n  '& .MuDialogActions-root': {\n    padding: theme.spacing(1),\n  },\n}));\n\nexport interface DialogTitleProps {\n  id: string;\n  children?: React.ReactNode;\n  onClose: () => void;\n}\n\nconst BootstrapDialogTitle = (props: DialogTitleProps) => {\n  const { children, onClose, ...other } = props;\n\n  return (\n    <DialogTitle sx={{ m: 0, p: 2 }} {...other}>\n      {children}\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          onClick={onClose}\n          sx={{\n            position: 'absolute',\n            right: 8,\n            top: 8,\n            color: (theme) => theme.palette.grey[500],\n          }}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </DialogTitle>\n  );\n};\n\nexport default function OrcaSwap(props: any) {\n    const [tokenSwapAvailableBalance, setPortfolioSwapTokenAvailableBalance] = React.useState(0);\n    const [portfolioPositions, setPortofolioPositions] = React.useState(props.portfolioPositions);\n    const [open, setOpen] = React.useState(false);\n    const [amounttoswap, setTokensToSwap] = React.useState(0);\n    const [userTokenBalanceInput, setTokenBalanceInput] = React.useState(0);\n    const [convertedAmountValue, setConvertedAmountValue] = React.useState(0);\n    const [tokena, setTokenA] = React.useState(null);\n    const [tokenb, setTokenB] = React.useState(null);\n    const [lpFees, setLPFees] = React.useState(null);\n    const [networkFees, setNetworkFees] = React.useState(null);\n    const [minimumOutputAmount, setMinimumOutputAmount] = React.useState(null);\n    const [priceImpact, setPriceImpact] = React.useState(null);\n    const [rate, setRate] = React.useState(null);\n    const [swapfrom, setSwapFrom] = React.useState(props.swapfrom);\n    const [swapto, setSwapTo] = React.useState(props.swapto);\n    \n    const usdc_mint = 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v';\n    const sol_mint = 'So11111111111111111111111111111111111111112';\n    const fyfy_mint = 'vkG3Qrz6vCWjzDt5yCLEKYMYZ8hFZ27dmKe92btaZE3';\n    const orca_mint = 'orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE';\n\n    const [loading, setLoading] = React.useState(false);\n\n    //const mint = props.mint;\n    //const logoURI = props.logoURI;\n    //const name = props.name;\n    //const balance = props.balance;\n    ///const conversionrate = props.conversionrate;\n    const { connection } = useConnection();\n    const orca = getOrca(connection);\n\n    const { publicKey, wallet, sendTransaction } = useWallet();\n    const { enqueueSnackbar } = useSnackbar();\n    const onError = useCallback(\n        (error: WalletError) => {\n            enqueueSnackbar(error.message ? `${error.name}: ${error.message}` : error.name, { variant: 'error' });\n            console.error(error);\n        },\n        [enqueueSnackbar]\n    );\n    const handleClickOpen = () => {\n        setTokenBalanceInput(0);\n        setTokensToSwap(0);\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    function getPortfolioTokenBalance(swapingfrom:string){\n        let withmint = '';\n        if (swapingfrom === 'USDC'){\n            withmint = usdc_mint;\n        } else if (swapingfrom === 'SOL'){\n            withmint = sol_mint;\n        } else if (swapingfrom === 'ORCA'){\n            withmint = orca_mint;\n        }\n\n        let balance = 0;\n        portfolioPositions.portfolio.map((token: any) => {\n            if (token.mint === withmint){\n                if (token.balance > 0)\n                    balance = token.balance;\n            }\n        });\n        setPortfolioSwapTokenAvailableBalance(balance);\n    }\n\n\n    const handleSelectChange = (event: SelectChangeEvent) => {\n        setSwapFrom(event.target.value);\n        getPortfolioTokenBalance(event.target.value);\n        setTokenBalanceInput(0);\n        setTokensToSwap(0);\n        setConvertedAmountValue(0);\n        setLPFees(null);\n        setNetworkFees(null);\n        setMinimumOutputAmount(null);\n        setPriceImpact(null);\n        setRate(null);\n    };\n\n    async function swapTokens(tokenPoolA: OrcaPool, tokenPoolB: OrcaPool, amountToSwap: number) {\n        try{\n            /*** Swap ***/\n            //const orcaSolPool = orca.getPool(OrcaPoolConfig.ORCA_SOL); // Default\n            //const tokenPool = orca.getPool(OrcaPoolConfig.FYFY_USDC);\n            let transaction = new Transaction();\n\n            if (!tokenPoolB){\n                \n                const tokenPairA = tokenPoolA.getTokenB(); // USDC\n                const tokenAmount = new Decimal(amountToSwap); // amount in USDC\n                const quote = await tokenPoolA.getQuote(tokenPairA, tokenAmount);\n                const convertedAmount = quote.getMinOutputAmount();\n                const swapPayload = await tokenPoolA.swap(publicKey, tokenPairA, tokenAmount, convertedAmount);\n                \n                enqueueSnackbar(`Preparing to swap ${tokenAmount.toString()} ${tokenPoolA.getTokenB().name} for at least ${convertedAmount.toNumber()} ${tokenPoolA.getTokenA().name}`,{ variant: 'info' });\n                //swapPayload.transaction.partialSign(...swapPayload.signers);\n\n                const signedTransaction = await sendTransaction(swapPayload.transaction, connection, {signers: swapPayload.signers});\n                enqueueSnackbar(`Transaction ready`,{ variant: 'info' });\n                await connection.confirmTransaction(signedTransaction, 'processed');\n                enqueueSnackbar(`Swapped: ${signedTransaction}`,{ variant: 'success' });\n            } else{\n                const tokenPairA = tokenPoolA.getTokenA(); // SOL_USDC\n                const tokenAmount = new Decimal(amountToSwap); \n                const quote = await tokenPoolA.getQuote(tokenPairA, tokenAmount);\n                const convertedAmount = quote.getMinOutputAmount();\n                const swapPayload = await tokenPoolA.swap(publicKey, tokenPairA, tokenAmount, convertedAmount);\n                \n                //enqueueSnackbar(`Step 1. Preparing to swap ${tokenAmount.toString()} ${tokenPoolA.getTokenA().name} for at least ${convertedAmount.toNumber()} ${tokenPoolA.getTokenB().name}`,{ variant: 'info' });\n                const tokenPairB = tokenPoolB.getTokenB(); // FYFY_USDC\n                const tokenAmountB = new Decimal(convertedAmount.toNumber()); \n                const quoteB = await tokenPoolB.getQuote(tokenPairB, tokenAmountB); // consider adding slippage amount\n                const convertedAmountB = quoteB.getMinOutputAmount();\n                //enqueueSnackbar(`Step 2. Preparing to swap ${tokenAmountB.toString()} ${tokenPoolB.getTokenB().name} for at least ${convertedAmountB.toNumber()} ${tokenPoolB.getTokenA().name}`,{ variant: 'info' });\n                const swapPayloadB = await tokenPoolB.swap(publicKey, tokenPairB, tokenAmountB, convertedAmountB);\n                enqueueSnackbar(`Preparing to swap ${tokenAmount.toString()} ${tokenPoolA.getTokenA().name} for at least ${convertedAmountB.toNumber()} ${tokenPoolB.getTokenA().name}`,{ variant: 'info' });\n                \n                transaction = swapPayload.transaction.add(swapPayloadB.transaction);\n                //transaction.partialSign(...swapPayload.signers);\n                //transaction.partialSign(...swapPayloadB.signers);\n\n                const signedTransaction = await sendTransaction(transaction, connection, {signers: [...swapPayload.signers, ...swapPayloadB.signers]});\n\n                enqueueSnackbar(`Transaction ready`,{ variant: 'info' });\n                await connection.confirmTransaction(signedTransaction, 'processed');\n                enqueueSnackbar(`Swapped: ${signedTransaction}`,{ variant: 'success' });\n            }\n\n            \n        } catch(e){\n            enqueueSnackbar(`${e}`,{ variant: 'error' });\n        }\n    }\n\n    async function getConvertedValue(tokenPoolA: OrcaPool, tokenPoolB: OrcaPool, amountToSwap: number) {\n        setLoading(true);\n        try{\n            if (!tokenPoolB){ // USDC_FYFY CONVERSION\n                //const tokenPool = orca.getPool(OrcaPoolConfig.FYFY_USDC);\n                const tokenPair = tokenPoolA.getTokenB(); // USDC \n                const tokenAmount = new Decimal(amountToSwap); // amount in USDC\n                const quote = await tokenPoolA.getQuote(tokenPair, tokenAmount);\n                const convertedAmount = quote.getMinOutputAmount();\n                \n                const lpfees = quote.getLPFees();\n                const networkfees = quote.getNetworkFees();\n                const expectedoutputamount = quote.getExpectedOutputAmount();\n                const priceimpact = quote.getPriceImpact();\n                const rate = quote.getRate();\n                \n                setTokenA(tokenPoolA.getTokenA().name);\n                setTokenB(tokenPoolA.getTokenB().name);\n                \n                setConvertedAmountValue(expectedoutputamount.toNumber());\n                setLPFees(lpfees.toNumber());\n                setNetworkFees(networkfees.toNumber());\n                setMinimumOutputAmount(convertedAmount.toNumber());\n                setPriceImpact(priceimpact.toNumber());\n                setRate(rate.toNumber());\n            } else { // SOL_USDC ... FYFY_USDC conversion\n                const tokenPairA = tokenPoolA.getTokenA(); // SOL_USDC\n                const tokenAmount = new Decimal(amountToSwap); \n                const quote = await tokenPoolA.getQuote(tokenPairA, tokenAmount);\n                const convertedAmount = quote.getMinOutputAmount();\n                //enqueueSnackbar(`Step 1. Preparing to swap ${tokenAmount.toString()} ${tokenPoolA.getTokenA().name} for at least ${convertedAmount.toNumber()} ${tokenPoolA.getTokenB().name}`,{ variant: 'info' });\n                const tokenPairB = tokenPoolB.getTokenB(); // FYFY_USDC\n                const tokenAmountB = new Decimal(convertedAmount.toNumber()); \n                const quoteB = await tokenPoolB.getQuote(tokenPairB, tokenAmountB); // consider adding slippage amount\n                const convertedAmountB = quoteB.getMinOutputAmount();\n                //enqueueSnackbar(`Step 2. Preparing to swap ${tokenAmountB.toString()} ${tokenPoolB.getTokenB().name} for at least ${convertedAmountB.toNumber()} ${tokenPoolB.getTokenA().name}`,{ variant: 'info' });\n                //const swapPayloadB = await tokenPoolB.swap(publicKey, tokenPairB, tokenAmountB, convertedAmountB);\n\n                setTokenA(tokenPoolA.getTokenA().name);\n                setTokenB(tokenPoolB.getTokenB().name);\n                \n                const lpfees = quote.getLPFees();\n                const networkfees = quote.getNetworkFees();\n                const expectedoutputamount = quote.getExpectedOutputAmount();\n                const priceimpact = quote.getPriceImpact();\n                const rate = quote.getRate();\n\n                const lpfeesB = quoteB.getLPFees();\n                const networkfeesB = quoteB.getNetworkFees();\n                const expectedoutputamountB = quoteB.getExpectedOutputAmount();\n                const priceimpactB = quoteB.getPriceImpact();\n                const rateB = quoteB.getRate();\n                /*\n                console.log(\"lpfees: \"+lpfees.toNumber());\n                console.log(\"networkfees: \"+networkfees.toNumber());\n                console.log(\"expectedoutputamount: \"+expectedoutputamount.toNumber());\n                console.log(\"priceimpact: \"+priceimpact);\n                console.log(\"rate: \"+rate.toNumber());\n                console.log(\"***\");\n                console.log(\"lpfeesB: \"+lpfeesB.toNumber());\n                console.log(\"networkfeesB: \"+networkfeesB.toNumber());\n                console.log(\"expectedoutputamountB: \"+expectedoutputamountB.toNumber());\n                console.log(\"priceimpactB: \"+priceimpactB);\n                console.log(\"rateB: \"+rateB.toNumber());\n                */\n                setConvertedAmountValue(expectedoutputamountB.toNumber());\n                setLPFees(lpfees.toNumber()+lpfeesB.toNumber());\n                setNetworkFees(networkfees.toNumber());\n\n                setMinimumOutputAmount(convertedAmountB.toNumber());\n                setPriceImpact(priceimpact.toNumber()+priceimpactB.toNumber());\n                \n                //1 SOL = rate.toNumber() USDC\n                //1 USDC = X grape\n                \n                setRate(rateB.toNumber()*rate.toNumber());\n            }\n        } catch(e){\n            enqueueSnackbar(`${e}`,{ variant: 'error' });\n        }\n        setLoading(false);\n    }\n    \n    function HandleSendSubmit(event: any) {\n        event.preventDefault();\n        if ((amounttoswap > 0)&&(amounttoswap < 99999999999999)){\n            if ((swapfrom === 'USDC') && (swapto === 'FYFY')){\n                const tokenPool = orca.getPool(OrcaPoolConfig.FYFY_USDC);    \n                swapTokens(tokenPool, null, amounttoswap);\n                handleClose();\n            } else if ((swapfrom === 'SOL') && (swapto === 'FYFY')){\n                const tokenPoolA = orca.getPool(OrcaPoolConfig.SOL_USDC);\n                const tokenPoolB = orca.getPool(OrcaPoolConfig.FYFY_USDC);\n                swapTokens(tokenPoolA, tokenPoolB, amounttoswap);\n                handleClose();\n            } else if ((swapfrom === 'ORCA') && (swapto === 'FYFY')){\n                const tokenPoolA = orca.getPool(OrcaPoolConfig.ORCA_USDC);\n                const tokenPoolB = orca.getPool(OrcaPoolConfig.FYFY_USDC);\n                swapTokens(tokenPoolA, tokenPoolB, amounttoswap);\n                handleClose();\n            }\n        }else{\n            setConvertedAmountValue(0);\n            enqueueSnackbar(`Enter the balance you would like to send`,{ variant: 'error' });\n        }\n    }\n\n    React.useEffect(() => {\n        getPortfolioTokenBalance(swapfrom);\n    }, []);\n\n    React.useEffect(() => {\n\n        // get the balance for this token\n        if ((amounttoswap > 0)&&(amounttoswap < 99999999999999)){\n            if ((swapfrom === 'USDC') && (swapto === 'FYFY')){\n                const tokenPool = orca.getPool(OrcaPoolConfig.FYFY_USDC);\n                getConvertedValue(tokenPool, null, amounttoswap);\n            } else if ((swapfrom === 'SOL') && (swapto === 'FYFY')){\n                const tokenPoolA = orca.getPool(OrcaPoolConfig.SOL_USDC);\n                const tokenPoolB = orca.getPool(OrcaPoolConfig.FYFY_USDC);\n                getConvertedValue(tokenPoolA, tokenPoolB,amounttoswap);\n            } else if ((swapfrom === 'ORCA') && (swapto === 'FYFY')){\n                const tokenPoolA = orca.getPool(OrcaPoolConfig.ORCA_USDC);\n                const tokenPoolB = orca.getPool(OrcaPoolConfig.FYFY_USDC);\n                getConvertedValue(tokenPoolA, tokenPoolB,amounttoswap);\n            }\n        } else{\n            setConvertedAmountValue(0);\n            setLPFees(null);\n            setNetworkFees(null);\n            setMinimumOutputAmount(null);\n            setPriceImpact(null);\n            setRate(null);\n        }\n    }, [amounttoswap]);\n    \n    return (\n        <div>\n            <Button\n                variant=\"outlined\" \n                //aria-controls={menuId}\n                title={`Swap ${swapfrom} > ${swapto}`}\n                onClick={handleClickOpen}\n                size=\"small\"\n                //onClick={isConnected ? handleProfileMenuOpen : handleOpen}\n                >\n                {swapfrom} <SwapHorizIcon sx={{mr:1,ml:1}} /> {swapto}\n            </Button>\n        <BootstrapDialog\n            onClose={handleClose}\n            aria-labelledby=\"customized-dialog-title\"\n            open={open}\n        >   \n            <form onSubmit={HandleSendSubmit}>\n                <BootstrapDialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n                    Swap\n                </BootstrapDialogTitle>\n                <DialogContent dividers>\n                        <Grid container spacing={2}>\n                            <Grid item xs={12}>     \n                                    <Grid container>\n                                        <Grid item xs={6}> \n                                            <FormControl> \n                                                <InputLabel id=\"from-label\">From</InputLabel>\n                                                <Select\n                                                    labelId=\"from-label\"\n                                                    id=\"from-select-dropdown\"\n                                                    fullWidth\n                                                    value={swapfrom}\n                                                    onChange={handleSelectChange}\n                                                    label=\"From\"\n                                                    >\n                                                    <MenuItem value=\"USDC\">USDC</MenuItem>\n                                                    <MenuItem value=\"SOL\">SOL</MenuItem>\n                                                    <MenuItem value=\"ORCA\">ORCA</MenuItem>\n                                                </Select>\n                                            </FormControl>\n                                        </Grid>\n                                        <Grid item xs={6}>\n                                            <TextField \n                                                id=\"swap-token-amount\" \n                                                inputRef={input => input && input.focus()}\n                                                fullWidth \n                                                placeholder=\"0.00\" \n                                                autoComplete=\"off\"\n                                                variant=\"outlined\"\n                                                //value={parseFloat((userTokenBalanceInput).toString().replace(/^0|[1-9]+/, ''))}\n                                                value={userTokenBalanceInput}\n                                                type=\"number\"\n                                                onChange={(e) => {\n                                                    // here add an additional check if valid number\n                                                    // let regex = \n                                                    // regex.text(e.target.value){\n                                                    setTokensToSwap(+e.target.value)\n                                                    setTokenBalanceInput(+e.target.value)\n                                                    // }\n                                                }}\n                                                InputProps={{\n                                                    inputProps: {\n                                                        step: 0.000000001,\n                                                        style: {\n                                                            textAlign:'right'\n                                                        }\n                                                    }\n                                                }}\n                                            />\n                                        </Grid>\n                                    </Grid>\n                            </Grid>\n                            <Grid item xs={12}>\n                                <Grid container>\n                                    <Grid item xs={2}>\n                                                    \n                                    </Grid>\n                                    <Grid item xs={10}\n                                        sx={{textAlign:'right'}}\n                                    >\n                                        <Typography\n                                            variant=\"caption\"  \n                                        >\n                                            Balance: {tokenSwapAvailableBalance} {swapfrom}\n                                            <ButtonGroup variant=\"text\" size=\"small\" aria-label=\"outlined primary button group\" sx={{ml:1}}>\n                                                <Button \n                                                    onClick={() => {\n                                                        setTokensToSwap(tokenSwapAvailableBalance);\n                                                        setTokenBalanceInput(tokenSwapAvailableBalance);\n                                                    }}\n                                                > \n                                                    Max \n                                                </Button>\n                                                <Button  \n                                                    onClick={() => {\n                                                        setTokensToSwap(+tokenSwapAvailableBalance/2);\n                                                        setTokenBalanceInput(+tokenSwapAvailableBalance/2);\n                                                    }}\n                                                > \n                                                    Half\n                                                </Button>\n                                            </ButtonGroup>\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n\n                            <Grid item xs={12}>\n                                <Grid container>\n                                    <Grid item xs={6}> \n                                        <FormControl> \n                                            <InputLabel id=\"to-label\">To</InputLabel>\n                                            <Select\n                                                labelId=\"to-label\"\n                                                id=\"to-select-dropdown\"\n                                                fullWidth\n                                                value={swapto}\n                                                label=\"To\"\n                                                disabled \n                                                defaultValue=\"Disabled\"\n                                                >\n                                                <MenuItem value=\"FYFY\">FYFY</MenuItem>\n                                            </Select>\n                                        </FormControl>\n                                    </Grid>\n                                    <Grid item xs={6}>\n                                        <TextField \n                                            id=\"swap-result\" \n                                            fullWidth \n                                            autoComplete=\"off\"\n                                            value={convertedAmountValue}\n                                            type=\"number\"\n                                            variant=\"outlined\"\n                                            disabled \n                                            defaultValue=\"Disabled\"\n                                            InputProps={{\n                                                inputProps: {\n                                                    style: {\n                                                        textAlign:'right'\n                                                    }\n                                                }\n                                            }}\n                                        />\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                        <p>\n                        {!loading ?\n                            <Typography variant=\"caption\" sx={{color:\"#aaaaaa\"}}>\n                                {priceImpact &&\n                                    <Grid container spacing={1}>\n                                        <Grid item xs={6}\n                                            sx={{\n                                                textAlign:'right'\n                                            }}\n                                        >\n                                        Price Impact <Tooltip title={`Swaping shifts the ratio of tokens in the pool, which will cause a change in the price per token`}><HelpOutlineIcon sx={{ fontSize:14  }}/></Tooltip>\n                                        </Grid>\n                                        <Grid item xs={6}\n                                            sx={{\n                                                textAlign:'right'\n                                            }}\n                                        > \n                                            {(priceImpact).toFixed(2)}%\n                                        </Grid>\n                                    </Grid>\n                                } \n                                {minimumOutputAmount &&\n                                    <Grid container spacing={1}>\n                                        <Grid item xs={6}\n                                            sx={{\n                                                textAlign:'right'\n                                            }}\n                                        >\n                                        Minimum Received <Tooltip title={`1% slippage tolerance`}><HelpOutlineIcon sx={{ fontSize:14  }}/></Tooltip>\n                                        </Grid>\n                                        <Grid item xs={6}\n                                            sx={{\n                                                textAlign:'right'\n                                            }}\n                                        > \n                                            {minimumOutputAmount.toFixed(6)} {swapto}\n                                        </Grid>\n                                    </Grid>\n                                } \n\n                                {rate &&\n                                    <Grid container spacing={1}>\n                                        <Grid item xs={9}\n                                            sx={{\n                                                textAlign:'right'\n                                            }}\n                                        >\n                                        Rate\n                                        </Grid>\n                                        <Grid item xs={9}\n                                            sx={{\n                                                textAlign:'right'\n                                            }}\n                                        > \n                                            {rate.toFixed(6)} {swapto} per {swapfrom}\n                                        </Grid>\n                                    </Grid>\n                                } \n                                {lpFees &&\n                                    <Grid container spacing={1}>\n                                        <>\n                                        <Grid item xs={6}\n                                            sx={{\n                                                textAlign:'right'\n                                            }}\n                                        >\n                                            SWAP Fees <Tooltip title={`Swap Fees (to LPs): including 0.05% split 80/20 Treasury Escrow`}><HelpOutlineIcon sx={{ fontSize:14  }}/></Tooltip>\n                                        </Grid>\n                                        <Grid item xs={6}\n                                            sx={{\n                                                textAlign:'right'\n                                            }}\n                                        > \n                                            {swapfrom !== 'SOL' ?\n                                                <>\n                                                {(lpFees/amounttoswap*100).toFixed(2)}% = ${lpFees.toFixed(6)}\n                                                </>\n                                            :\n                                                <>{(0.30)}% + {(0.30)}% = ~${lpFees.toFixed(6)*2}</>\n                                            }\n                                        </Grid>\n                                        </>\n                                    </Grid>\n                                } \n                                {networkFees &&\n                                    <Grid container spacing={1}>\n                                        <Grid item xs={6}\n                                            sx={{\n                                                textAlign:'right'\n                                            }}\n                                        >\n                                        Network Fees\n                                        </Grid>\n                                        <Grid item xs={6}\n                                            sx={{\n                                                textAlign:'right'\n                                            }}\n                                        > \n                                            {(networkFees/web3.LAMPORTS_PER_SOL)} SOL\n                                        </Grid>\n                                    </Grid>\n                                } \n                            </Typography>\n                        :\n                            <Typography variant=\"caption\" sx={{color:\"#aaaaaa\"}}>\n                                <Grid container spacing={1}>\n                                    <Grid item xs={12} \n                                            sx={{\n                                                textAlign:'center'\n                                            }}>\n                                        loading...\n                                    </Grid>\n                                </Grid>\n                            </Typography>\n                        }\n                        </p>\n                        \n                </DialogContent>\n                <DialogActions>\n                    <Button     \n                        fullWidth\n                        type=\"submit\"\n                        variant=\"outlined\" \n                        title=\"Swap\"\n                        //disabled={userTokenBalanceInput > tokenSwapAvailableBalance}\n                        sx={{\n                            margin:1\n                        }}>\n                        Swap\n                    </Button>\n                </DialogActions>\n            </form>\n        </BootstrapDialog>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}