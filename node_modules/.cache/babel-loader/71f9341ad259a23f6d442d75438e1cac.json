{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useLocalStorage = void 0;\n\nvar react_1 = require(\"react\");\n\nfunction useLocalStorage(key, defaultState) {\n  var state = (0, react_1.useState)(function () {\n    try {\n      var _value = localStorage.getItem(key);\n\n      if (_value) return JSON.parse(_value);\n    } catch (error) {\n      if (typeof window !== 'undefined') {\n        console.error(error);\n      }\n    }\n\n    return defaultState;\n  });\n  var value = state[0];\n  var isFirstRender = (0, react_1.useRef)(true);\n  (0, react_1.useEffect)(function () {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    try {\n      if (value === null) {\n        localStorage.removeItem(key);\n      } else {\n        localStorage.setItem(key, JSON.stringify(value));\n      }\n    } catch (error) {\n      if (typeof window !== 'undefined') {\n        console.error(error);\n      }\n    }\n  }, [value]);\n  return state;\n}\n\nexports.useLocalStorage = useLocalStorage;","map":{"version":3,"sources":["../../src/useLocalStorage.ts"],"names":[],"mappings":";;;;;;;AAAA,IAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAEA,SAAgB,eAAhB,CAAmC,GAAnC,EAAgD,YAAhD,EAA+D;AAC3D,MAAM,KAAK,GAAG,CAAA,GAAA,OAAA,CAAA,QAAA,EAAY,YAAK;AAC3B,QAAI;AACA,UAAM,MAAK,GAAG,YAAY,CAAC,OAAb,CAAqB,GAArB,CAAd;;AACA,UAAI,MAAJ,EAAW,OAAO,IAAI,CAAC,KAAL,CAAW,MAAX,CAAP;AACd,KAHD,CAGE,OAAO,KAAP,EAAc;AACZ,UAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AAC/B,QAAA,OAAO,CAAC,KAAR,CAAc,KAAd;AACH;AACJ;;AAED,WAAO,YAAP;AACH,GAXa,CAAd;AAYA,MAAM,KAAK,GAAG,KAAK,CAAC,CAAD,CAAnB;AAEA,MAAM,aAAa,GAAG,CAAA,GAAA,OAAA,CAAA,MAAA,EAAO,IAAP,CAAtB;AACA,GAAA,GAAA,OAAA,CAAA,SAAA,EAAU,YAAK;AACX,QAAI,aAAa,CAAC,OAAlB,EAA2B;AACvB,MAAA,aAAa,CAAC,OAAd,GAAwB,KAAxB;AACA;AACH;;AACD,QAAI;AACA,UAAI,KAAK,KAAK,IAAd,EAAoB;AAChB,QAAA,YAAY,CAAC,UAAb,CAAwB,GAAxB;AACH,OAFD,MAEO;AACH,QAAA,YAAY,CAAC,OAAb,CAAqB,GAArB,EAA0B,IAAI,CAAC,SAAL,CAAe,KAAf,CAA1B;AACH;AACJ,KAND,CAME,OAAO,KAAP,EAAc;AACZ,UAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AAC/B,QAAA,OAAO,CAAC,KAAR,CAAc,KAAd;AACH;AACJ;AACJ,GAhBD,EAgBG,CAAC,KAAD,CAhBH;AAkBA,SAAO,KAAP;AACH;;AAnCD,OAAA,CAAA,eAAA,GAAA,eAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useLocalStorage = void 0;\nconst react_1 = require(\"react\");\nfunction useLocalStorage(key, defaultState) {\n    const state = (0, react_1.useState)(() => {\n        try {\n            const value = localStorage.getItem(key);\n            if (value)\n                return JSON.parse(value);\n        }\n        catch (error) {\n            if (typeof window !== 'undefined') {\n                console.error(error);\n            }\n        }\n        return defaultState;\n    });\n    const value = state[0];\n    const isFirstRender = (0, react_1.useRef)(true);\n    (0, react_1.useEffect)(() => {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        try {\n            if (value === null) {\n                localStorage.removeItem(key);\n            }\n            else {\n                localStorage.setItem(key, JSON.stringify(value));\n            }\n        }\n        catch (error) {\n            if (typeof window !== 'undefined') {\n                console.error(error);\n            }\n        }\n    }, [value]);\n    return state;\n}\nexports.useLocalStorage = useLocalStorage;\n//# sourceMappingURL=useLocalStorage.js.map"]},"metadata":{},"sourceType":"script"}