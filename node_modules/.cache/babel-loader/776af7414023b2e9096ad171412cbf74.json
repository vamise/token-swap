{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar decimal_js_1 = require(\"decimal.js\");\n\nvar NEGATIVE_ONE = new decimal_js_1.Decimal(-1);\nvar ZERO = new decimal_js_1.Decimal(0);\nvar ONE = new decimal_js_1.Decimal(1);\nvar TWO = new decimal_js_1.Decimal(2);\nvar THREE = new decimal_js_1.Decimal(3);\nvar EPS = TWO.pow(-52);\n\nvar Root = function () {\n  function Root(x, y) {\n    this.real = x;\n    this.imag = y;\n  }\n\n  return Root;\n}();\n\nfunction sign(n) {\n  if (n.gt(ZERO)) {\n    return ONE;\n  } else if (n.lt(ZERO)) {\n    return NEGATIVE_ONE;\n  } else {\n    return ZERO;\n  }\n}\n\nfunction disc(A, B, C) {\n  var a = A;\n  var b = B;\n  var c = C;\n  var isIntCoeffs = decimal_js_1.Decimal.floor(A).sub(A).abs().eq(ZERO) && decimal_js_1.Decimal.floor(b).sub(b).abs().eq(ZERO) && decimal_js_1.Decimal.floor(C).sub(C).abs().eq(ZERO);\n\n  if (isIntCoeffs) {\n    if (a.mul(c).gt(ZERO)) {\n      a = A.abs();\n      c = C.abs();\n    }\n\n    var loopCondition = false;\n\n    do {\n      loopCondition = false;\n\n      if (a < c) {\n        var tmp = a;\n        a = c;\n        c = tmp;\n      }\n\n      var n = nearestInt(b.div(c));\n\n      if (!n.eq(ZERO)) {\n        var alpha = a.sub(n.mul(b));\n\n        if (alpha.gte(a.neg())) {\n          b = b.sub(n.mul(c));\n          a = alpha.sub(n.mul(b));\n\n          if (a.gt(ZERO)) {\n            loopCondition = true;\n          }\n        }\n      }\n    } while (loopCondition);\n  }\n\n  return b.mul(b).sub(a.mul(c));\n}\n\nfunction nearestInt(n) {\n  var l = decimal_js_1.Decimal.floor(n);\n  var h = decimal_js_1.Decimal.ceil(n);\n  var dl = n.sub(l).abs();\n  var dh = n.sub(h).abs();\n  return dl.gt(dh) ? dh : dl;\n}\n\nfunction qdrtc(A, B, C) {\n  var b = B.div(TWO).neg();\n  var q = disc(A, b, C);\n  var X1 = ZERO;\n  var Y1 = ZERO;\n  var X2 = ZERO;\n  var Y2 = ZERO;\n\n  if (q.lt(ZERO)) {\n    var X = b.div(A);\n    var Y = q.neg().sqrt().div(A);\n    X1 = X;\n    Y1 = Y;\n    X2 = X;\n    Y2 = Y.neg();\n  } else {\n    Y1 = ZERO;\n    Y2 = ZERO;\n    var r = b.add(sign(b).mul(q.sqrt()));\n\n    if (r.eq(ZERO)) {\n      X1 = C.div(A);\n      X2 = C.div(A).neg();\n    } else {\n      X1 = C.div(r);\n      X2 = r.div(A);\n    }\n  }\n\n  return [new Root(X1, Y1), new Root(X2, Y2)];\n}\n\nfunction evaluate(x, A, B, C, D) {\n  var q0 = A.mul(x);\n  var B1 = q0.add(B);\n  var C2 = B1.mul(x).add(C);\n  return {\n    Q: C2.mul(x).add(D),\n    dQ: q0.add(B1).mul(x).add(C2),\n    B1: B1,\n    C2: C2\n  };\n}\n\nfunction getCubicRoots(A, B, C, D) {\n  var X;\n  var a;\n  var b1;\n  var c2;\n  var roots = [];\n\n  if (A.eq(ZERO)) {\n    a = B;\n    b1 = C;\n    c2 = D;\n  } else if (D.eq(ZERO)) {\n    X = ZERO;\n    a = A;\n    b1 = B;\n    c2 = C;\n    roots.push(new Root(X, ZERO));\n  } else {\n    a = A;\n    X = B.div(A).div(THREE).neg();\n    var evalInfo = evaluate(X, A, B, C, D);\n    var q = evalInfo.Q;\n    var dq = evalInfo.dQ;\n    b1 = evalInfo.B1;\n    c2 = evalInfo.C2;\n    var t = q.div(A);\n    var r = t.abs().cubeRoot();\n    var s = sign(t);\n    t = dq.div(A).neg();\n\n    if (t.gt(ZERO)) {\n      r = new decimal_js_1.Decimal(\"1.324717957244746\").mul(decimal_js_1.Decimal.max(r, t.sqrt()));\n    }\n\n    var x0 = X.sub(s.mul(r));\n\n    if (!x0.eq(X)) {\n      var den = EPS.mul(100).add(ONE);\n\n      do {\n        X = x0;\n        evalInfo = evaluate(X, A, B, C, D);\n        q = evalInfo.Q;\n        dq = evalInfo.dQ;\n        b1 = evalInfo.B1;\n        c2 = evalInfo.C2;\n        x0 = dq.eq(ZERO) ? X : X.sub(q.div(dq).div(den));\n      } while (s.mul(x0).gt(s.mul(X)));\n\n      if (A.abs().mul(X).mul(X).gt(D.div(X).abs())) {\n        c2 = D.div(X).neg();\n        b1 = c2.sub(C).div(X);\n      }\n    }\n\n    roots.push(new Root(X, ZERO));\n  }\n\n  var quadInfo = qdrtc(a, b1, c2);\n  return roots.concat(quadInfo);\n}\n\nexports.getCubicRoots = getCubicRoots;","map":{"version":3,"sources":["../cuberoots.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decimal_js_1 = require(\"decimal.js\");\nvar NEGATIVE_ONE = new decimal_js_1.Decimal(-1);\nvar ZERO = new decimal_js_1.Decimal(0);\nvar ONE = new decimal_js_1.Decimal(1);\nvar TWO = new decimal_js_1.Decimal(2);\nvar THREE = new decimal_js_1.Decimal(3);\nvar EPS = TWO.pow(-52);\nvar Root = (function () {\n    function Root(x, y) {\n        this.real = x;\n        this.imag = y;\n    }\n    return Root;\n}());\nfunction sign(n) {\n    if (n.gt(ZERO)) {\n        return ONE;\n    }\n    else if (n.lt(ZERO)) {\n        return NEGATIVE_ONE;\n    }\n    else {\n        return ZERO;\n    }\n}\nfunction disc(A, B, C) {\n    var a = A;\n    var b = B;\n    var c = C;\n    var isIntCoeffs = decimal_js_1.Decimal.floor(A).sub(A).abs().eq(ZERO) &&\n        decimal_js_1.Decimal.floor(b).sub(b).abs().eq(ZERO) &&\n        decimal_js_1.Decimal.floor(C).sub(C).abs().eq(ZERO);\n    if (isIntCoeffs) {\n        if (a.mul(c).gt(ZERO)) {\n            a = A.abs();\n            c = C.abs();\n        }\n        var loopCondition = false;\n        do {\n            loopCondition = false;\n            if (a < c) {\n                var tmp = a;\n                a = c;\n                c = tmp;\n            }\n            var n = nearestInt(b.div(c));\n            if (!n.eq(ZERO)) {\n                var alpha = a.sub(n.mul(b));\n                if (alpha.gte(a.neg())) {\n                    b = b.sub(n.mul(c));\n                    a = alpha.sub(n.mul(b));\n                    if (a.gt(ZERO)) {\n                        loopCondition = true;\n                    }\n                }\n            }\n        } while (loopCondition);\n    }\n    return b.mul(b).sub(a.mul(c));\n}\nfunction nearestInt(n) {\n    var l = decimal_js_1.Decimal.floor(n);\n    var h = decimal_js_1.Decimal.ceil(n);\n    var dl = n.sub(l).abs();\n    var dh = n.sub(h).abs();\n    return dl.gt(dh) ? dh : dl;\n}\nfunction qdrtc(A, B, C) {\n    var b = B.div(TWO).neg();\n    var q = disc(A, b, C);\n    var X1 = ZERO;\n    var Y1 = ZERO;\n    var X2 = ZERO;\n    var Y2 = ZERO;\n    if (q.lt(ZERO)) {\n        var X = b.div(A);\n        var Y = q.neg().sqrt().div(A);\n        X1 = X;\n        Y1 = Y;\n        X2 = X;\n        Y2 = Y.neg();\n    }\n    else {\n        Y1 = ZERO;\n        Y2 = ZERO;\n        var r = b.add(sign(b).mul(q.sqrt()));\n        if (r.eq(ZERO)) {\n            X1 = C.div(A);\n            X2 = C.div(A).neg();\n        }\n        else {\n            X1 = C.div(r);\n            X2 = r.div(A);\n        }\n    }\n    return [new Root(X1, Y1), new Root(X2, Y2)];\n}\nfunction evaluate(x, A, B, C, D) {\n    var q0 = A.mul(x);\n    var B1 = q0.add(B);\n    var C2 = B1.mul(x).add(C);\n    return {\n        Q: C2.mul(x).add(D),\n        dQ: q0.add(B1).mul(x).add(C2),\n        B1: B1,\n        C2: C2,\n    };\n}\nfunction getCubicRoots(A, B, C, D) {\n    var X;\n    var a;\n    var b1;\n    var c2;\n    var roots = [];\n    if (A.eq(ZERO)) {\n        a = B;\n        b1 = C;\n        c2 = D;\n    }\n    else if (D.eq(ZERO)) {\n        X = ZERO;\n        a = A;\n        b1 = B;\n        c2 = C;\n        roots.push(new Root(X, ZERO));\n    }\n    else {\n        a = A;\n        X = B.div(A).div(THREE).neg();\n        var evalInfo = evaluate(X, A, B, C, D);\n        var q = evalInfo.Q;\n        var dq = evalInfo.dQ;\n        b1 = evalInfo.B1;\n        c2 = evalInfo.C2;\n        var t = q.div(A);\n        var r = t.abs().cubeRoot();\n        var s = sign(t);\n        t = dq.div(A).neg();\n        if (t.gt(ZERO)) {\n            r = new decimal_js_1.Decimal(\"1.324717957244746\").mul(decimal_js_1.Decimal.max(r, t.sqrt()));\n        }\n        var x0 = X.sub(s.mul(r));\n        if (!x0.eq(X)) {\n            var den = EPS.mul(100).add(ONE);\n            do {\n                X = x0;\n                evalInfo = evaluate(X, A, B, C, D);\n                q = evalInfo.Q;\n                dq = evalInfo.dQ;\n                b1 = evalInfo.B1;\n                c2 = evalInfo.C2;\n                x0 = dq.eq(ZERO) ? X : X.sub(q.div(dq).div(den));\n            } while (s.mul(x0).gt(s.mul(X)));\n            if (A.abs().mul(X).mul(X).gt(D.div(X).abs())) {\n                c2 = D.div(X).neg();\n                b1 = c2.sub(C).div(X);\n            }\n        }\n        roots.push(new Root(X, ZERO));\n    }\n    var quadInfo = qdrtc(a, b1, c2);\n    return roots.concat(quadInfo);\n}\nexports.getCubicRoots = getCubicRoots;\n//# sourceMappingURL=cuberoots.js.map"]},"metadata":{},"sourceType":"script"}